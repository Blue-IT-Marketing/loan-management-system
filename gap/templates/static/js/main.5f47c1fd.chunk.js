(this["webpackJsonpmidey-finance"]=this["webpackJsonpmidey-finance"]||[]).push([[0],{1106:function(e,t,a){},1136:function(e,t){},1139:function(e,t,a){},1140:function(e,t,a){},1141:function(e,t,a){},1142:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"home_page",(function(){return p})),a.d(n,"contact_page",(function(){return b})),a.d(n,"about_page",(function(){return d})),a.d(n,"login_page",(function(){return g})),a.d(n,"logout_page",(function(){return E})),a.d(n,"signup_page",(function(){return v})),a.d(n,"forget_password_page",(function(){return h})),a.d(n,"download_page",(function(){return y})),a.d(n,"account_page",(function(){return _})),a.d(n,"blog_page",(function(){return N})),a.d(n,"admin_page",(function(){return O})),a.d(n,"loans_page",(function(){return x})),a.d(n,"active_loans_page",(function(){return j})),a.d(n,"chat_page",(function(){return w})),a.d(n,"leads_page",(function(){return k})),a.d(n,"profiles",(function(){return C})),a.d(n,"dashboard_page",(function(){return S})),a.d(n,"user_api_url",(function(){return P})),a.d(n,"company_api_url",(function(){return D})),a.d(n,"loan_personal_details_api_url",(function(){return I})),a.d(n,"loan_physical_address_api_url",(function(){return F})),a.d(n,"loan_postal_address_api_url",(function(){return A})),a.d(n,"loan_contact_details_api_url",(function(){return L})),a.d(n,"loan_advanced_amount_api_url",(function(){return R})),a.d(n,"loan_employers_api_url",(function(){return T})),a.d(n,"loan_nextofkin_api_url",(function(){return U})),a.d(n,"loan_employer_details_api_url",(function(){return z})),a.d(n,"loan_employer_address_api_url",(function(){return M})),a.d(n,"loan_affordability_api_url",(function(){return B})),a.d(n,"loans_api_endpoint",(function(){return J})),a.d(n,"leads_api_endpoint",(function(){return W})),a.d(n,"chat_users_api_endpoint",(function(){return q})),a.d(n,"chat_messages_api_endpoint",(function(){return V})),a.d(n,"api_user_endpoint",(function(){return Y})),a.d(n,"api_admin_endpoint",(function(){return K}));var r={};a.r(r),a.d(r,"app_name",(function(){return X})),a.d(r,"app_long_name",(function(){return ee})),a.d(r,"app_descrition",(function(){return te})),a.d(r,"cell",(function(){return ae})),a.d(r,"email",(function(){return ne})),a.d(r,"fax",(function(){return re})),a.d(r,"localStorageKey",(function(){return ce})),a.d(r,"small_logo_url",(function(){return oe})),a.d(r,"maps_url",(function(){return se})),a.d(r,"business_address",(function(){return le})),a.d(r,"business_reg_number",(function(){return me})),a.d(r,"business_fax",(function(){return ie})),a.d(r,"business_tel",(function(){return ue})),a.d(r,"business_email",(function(){return fe})),a.d(r,"firebase",(function(){return pe})),a.d(r,"loadSettings",(function(){return be}));var c={};a.r(c),a.d(c,"auth",(function(){return xe})),a.d(c,"firebase",(function(){return Ne.a})),a.d(c,"storage",(function(){return je}));var o={};a.r(o),a.d(o,"doCreateUserWithEmailAndPassword",(function(){return De})),a.d(o,"doSignInWithEmailAndPassword",(function(){return Ie})),a.d(o,"doSignOut",(function(){return Fe})),a.d(o,"doPasswordReset",(function(){return Ae})),a.d(o,"doPasswordUpdate",(function(){return Le})),a.d(o,"doDeleteUser",(function(){return Re})),a.d(o,"doSendEmailVerification",(function(){return Te})),a.d(o,"doSendOneTimePin",(function(){return Ue}));a(714);var s=a(0),l=a.n(s),m=a(127),i=a.n(m),u=a(11),f=a(111),p="/",b="/contact",d="/about",g="/login",E="/logout",v="/signup",h="/forget",y="/download",_="/account",N="/blog",O="/admin-user",x="/admin-loans",j="/admin-loans-active",w="/admin-chat",k="/admin-leads",C="/profiles",S="/dashboard",P="/api/user",D="/api/company",I="/api/loans/client/personal",F="/api/loans/client/physical",A="/api/loans/client/postal",L="/api/loans/client/contact",R="/api/loans/client/advance-amount",T="/api/loans/client/employers",U="/api/loans/client/next-of-kin",z="/api/loans/client/employer-details",M="/api/loans/client/employer-address",B="/api/loans/client/affordability",J="/api/loans",W="/api/leads",q="https://us-central1-midey-finance.cloudfunctions.net/apigetusers",V="/api/chat/messages",Y="/api/user",K="/api/admin/users",G=a(1),H=a.n(G),Z=a(2),$=a(8),Q=a.n($),X="midey-finance",ee="midey finance",te="a portal for small loan management, with Midey Loans",ae="0159601459",ne="info@mideygroup.co.za",re="086****786",ce="saloans-",oe="../assets/logo/logo.PNG",se="",le="",me="",ie="0159620976",ue="0159601459",fe="info@mideygroup.co.za",pe={apiKey:"AIzaSyAyw734yKkdGsaplGmxyzKNa-bgR88v96Y",authDomain:"midey-finance.firebaseapp.com",databaseURL:"https://midey-finance.firebaseio.com",projectId:"midey-finance",storageBucket:"midey-finance.appspot.com",messagingSenderId:"246904445256",appId:"1:246904445256:web:324e8a3838eeddf9"},be=function(){var e=Object(Z.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"/settings",Q.a.get("/settings").then((function(e){if(200===e.status)return e.data;throw new Error("There was an error loading settings")})).then((function(e){})).catch((function(e){console.log("Error ",e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=a(41),ge=a(66),Ee=a(68),ve=a(67),he=a(69),ye=a(3),_e=a(129),Ne=a.n(_e),Oe=r.firebase;try{Ne.a.apps.length?Ne.a.app():Ne.a.initializeApp(Oe)}catch(dr){console.log("firebase app already configured")}var xe=Ne.a.auth(),je=Ne.a.storage(),we={uid:"",displayName:"",photoURL:"",email:"",password:"",emailVerified:!1,phoneVerified:!1,phoneNumber:"",isAnonymous:!1,providerId:"password",employee_code:"",signing_in:!1,user_signed_in:!1,user_deleted:!1,password_changed:!1,email_verification_sent:!1,onetime_pin_sent:!1},ke={displayName_error:"",photoURL_error:"",email_error:"",password_error:"",phoneNumber_error:""},Ce=function(e){console.log("Actually send one time pin here",e)};function Se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Se(a,!0).forEach((function(t){Object(ye.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Se(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var De=function(){var e=Object(Z.a)(H.a.mark((function e(t,a){var n,r,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r=xe.createUserWithEmailAndPassword(t,a),c=Pe({},we),(c=Pe({},r)).user_signed_in=!0,n={status:!0,response:Pe({},c)}}catch(dr){n={status:!1,error:Pe({},dr)}}return e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(Z.a)(H.a.mark((function e(t,a){var n,r,c,o;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xe.signInWithEmailAndPassword(t,a);case 3:r=e.sent,c=r.user,(o=Pe({},we,{uid:c.uid,displayName:c.displayName,photoURL:c.photoURL,email:c.email,password:c.password,emailVerified:c.emailVerified,phoneNumber:c.phoneNumber})).user_signed_in=!0,n={status:!0,response:Pe({},o)},e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),n={status:!1,error:Pe({},e.t0)};case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(Z.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.next=3,Ne.a.auth().signOut().then((function(){t={status:!0,error:{}}})).catch((function(e){t={status:!1,error:Pe({},e)}}));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(Z.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},e.next=3,Ne.a.auth().sendPasswordResetEmail(t).then((function(){a={status:!0,error:{}}})).catch((function(e){a={status:!1,error:Pe({},e)}}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(Z.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},e.next=3,Ne.a.auth().currentUser.updatePassword(t).then((function(){a={status:!0,error:{}}})).catch((function(e){a={status:!1,error:Pe({},e)}}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(Z.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},e.next=3,t.delete().then((function(){a={status:!0,error:{}}})).catch((function(e){a={status:!1,error:Pe({},e)}}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(Z.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},console.log(t),e.next=4,Ne.a.auth().currentUser.sendEmailVerification().then((function(){a={status:!0,error:{}}})).catch((function(e){a={status:!1,error:Pe({},e)}}));case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(Z.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={status:!0,error:{}},e.next=3,Ce(t);case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var ze=a(36),Me=a(469),Be=a.n(Me),Je=function(){var e=new Date;return e=e.getTime(),Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^e).toString(36)}(),We=new Be.a(Je),qe=function(e,t){We.setSecret(t);try{return We.encrypt(e)}catch(dr){return e}},Ve=function(e,t){We.setSecret(t);try{return We.decrypt(e)}catch(dr){return e}},Ye=new function e(){var t=this;Object(de.a)(this,e),this.loadTomemStore=Object(Z.a)(H.a.mark((function e(){var a,n,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,n=function(){var e=Object(Z.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,JSON.parse(localStorage.getItem(t.memStoreStateKey));case 3:t.state_keys=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),a=!0;case 9:return e.abrupt("return",!a);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=Object(Z.a)(H.a.mark((function e(){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,t.state_keys.forEach((function(e){try{t.mem_store_value.state=JSON.parse(localStorage.getItem(e)),t.mem_store_value.state_key=e,t.mem_store.push(t.mem_store_value)}catch(dr){console.log("failed to load state"),a=!0}})),e.abrupt("return",!a);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",n().then((function(e){r().then((function(e){return console.log("state store fully loaded to mem store",e),e}))})));case 4:case"end":return e.stop()}}),e)}))),this.saveMemStore=Object(Z.a)(H.a.mark((function e(){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){var e=Object(Z.a)(H.a.mark((function e(){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.state_keys=[],a=!0,t.mem_store.forEach((function(e){try{t.state_keys.push(e.state_key),t.setState(e.state_key,JSON.stringify(e.state)).then((function(t){console.log("state was saved to localstorage",t),localStorage.setItem(e.state_key+"_timestamp",this.date.getTime())})).catch((function(e){console.log("there where errors saving state",e.message)}))}catch(dr){console.log("there is an error saving states from mem store to locaStorage"),a=!1}})),e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",a().then((function(e){return console.log("done saving to mem store and did we succeed : ",e),e})));case 2:case"end":return e.stop()}}),e)}))),this.getState=function(){var e=Object(Z.a)(H.a.mark((function e(t,a){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t||null===t||""===t){e.next=7;break}return e.next=3,Ve(localStorage.getItem(a),t);case 3:return n=e.sent,e.abrupt("return",null===n?void 0:JSON.parse(n));case 7:return e.abrupt("return",void 0);case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),this.setState=function(){var e=Object(Z.a)(H.a.mark((function e(a,n,r){var c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0===a||null===a||""===a){e.next=12;break}return e.next=4,qe(JSON.stringify(r),a);case 4:return c=e.sent,e.next=7,localStorage.setItem(n,c);case 7:return e.next=9,localStorage.setItem(n+"_timestamp",qe(t.date.getTime(),a));case 9:return e.abrupt("return",c);case 12:throw new Error("Invalid seed value");case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",void 0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,a,n){return e.apply(this,arguments)}}(),this.date=new Date,this.memStoreStateKey="mobius-crypt-storage-",this.state_keys=[],this.use_mem_store=!1,this.stale_period=12e5,this.mem_store_value={state_key:"",state:{}},this.cipher_seed="",this.mem_store=[]};var Ke=a(128),Ge=a.n(Ke),He=new function e(t,a){var n=this;Object(de.a)(this,e),this.isUrl=function(e){return new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%@_.~+&:]*)*(\\?[;&a-z\\d%@_.,~+&:=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)},this.isEmpty=function(e){return void 0===e||(null===e||""===e)},this.isProvince=function(e){for(var t=["limpopo","mpumalanga","north west","gauteng","kwazulu natal","eastern cape","western cape","northern cape","orange free state"],a=0;a<t.length;a++)if(e===t[a])return!0;return!1},this.isCompanyReg=function(e){return!0},this.isFSP=function(e){return!0},this.isNCR=function(e){return!0},this.validateEmail=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},this.validatePassword=function(e){return new RegExp("^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})").test(e)},this.validateUsername=function(e){return/^\w+$/.test(e)},this.isNumber=function(e){return void 0!==e&&("boolean"!==typeof e&&!isNaN(e))},this.isCell=function(e){return!!n.isNumber(e)&&(10===e.length||11===e.length||12===e.length||13===e.length)},this.isTel=function(e){return void 0!==e&&n.isCell(e)},this.isFax=function(e){return void 0!==e&&n.isCell(e)},this.getAge=function(e){var t=e.split("-"),a=new Date,n=t[2],r=t[1],c=t[0],o=a.getDate(),s=a.getMonth()+1,l=a.getFullYear()-c;return(s<r||s===r&&o<n)&&l--,l},this.isIDNumber=function(e){return void 0===e||n.isNumber(e)&&13===e.length},this.numDaysBetweenDates=function(e,t){var a=e.split("-"),n=t.split("-"),r=parseInt(a[2]),c=parseInt(a[1]),o=parseInt(a[0]),s=parseInt(n[2]),l=parseInt(n[1]),m=parseInt(n[0]),i=Ge()([o,c,r]),u=Ge()([m,l,s]);return i.diff(u,"days")+1},this.countTimeBetweenTwoTimeStamps=function(e,t){try{return e-t}catch(dr){return parseInt(e)-parseInt(t)}},this.throttle=function(e,t){var a,n;return function(){var r=this,c=arguments;n?(clearTimeout(a),a=setTimeout((function(){Date.now()-n>=t&&(e.apply(r,c),n=Date.now())}),t-(Date.now()-n))):(e.apply(r,c),n=Date.now())}},this.debounce=function(e,t){var a;return function(){var n=this,r=arguments;clearTimeout(a),a=setTimeout((function(){return e.apply(n,r)}),t)}},this.today=t,this.url=a}(new Date,document.documentURI);function Ze(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $e(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ze(a,!0).forEach((function(t){Object(ye.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ze(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Qe={user_account:$e({},we),user_account_errors:$e({},ke),form_response:"",response_code:""};function Xe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function et(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Xe(a,!0).forEach((function(t){Object(ye.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Xe(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var tt={user_account:et({},we),user_account_errors:et({},ke),form_response:"",response_code:""},at=function(){var e=Object(Z.a)(H.a.mark((function e(t,a){var n,r,c,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=et({},tt),e.next=3,o.doSignInWithEmailAndPassword(t,a).then((function(e){!0===e.status?(r=et({},e.response),c="User Logged In Successfully",s=200):(r=et({},e.response),c=e.error.message,s=e.error.code)}));case 3:return n.user_account=et({},r),n.form_response=c,n.response_code=s,console.dir("USER ACCOUNT STATE",n),e.abrupt("return",et({},n));case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),nt=function(){var e=Object(Z.a)(H.a.mark((function e(){var t,a,n,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=et({},tt),e.next=3,o.doSignOut().then((function(e){!0===e.status?(a=et({},we),n="User Logout Successfully",r=200):(a=et({},we),n=e.error.message,r=e.error.code)}));case 3:return t.user_account=et({},a),t.form_response=n,t.response_code=r,console.dir("USER ACCOUNT STATE",t),e.abrupt("return",et({},t));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),rt=function(){var e=Object(Z.a)(H.a.mark((function e(t){var a,n,r,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=et({},tt),console.log("Sending email verifications"),e.next=4,o.doSendEmailVerification(t).then((function(e){!0===e.status?(n=et({},t,{email_verification_sent:!0}),r="successfully sent email verifications",c=200):(n=et({},t,{email_verification_sent:!1}),r=e.error.message,c=e.error.code)}));case 4:return a.user_account=et({},n),a.form_response=r,a.response_code=c,e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ct(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ot(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ct(a,!0).forEach((function(t){Object(ye.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ct(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var st=Object(s.createContext)(),lt=function(e){function t(){var e,a;Object(de.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(Ee.a)(this,(e=Object(ve.a)(t)).call.apply(e,[this].concat(r)))).state={user_account_state:ot({},Qe)},a.doLogin=function(){var e=Object(Z.a)(H.a.mark((function e(t,n){var r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at(t,n);case 2:return r=e.sent,a.setState({user_account_state:r}),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.doLogout=Object(Z.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nt();case 2:return t=e.sent,a.setState({user_account_state:t}),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),a.doSendEmailVerification=Object(Z.a)(H.a.mark((function e(){var t;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.state.user_account_state.user_account.emailVerified){e.next=4;break}console.log("Cannot send verification email account already verified"),e.next=9;break;case 4:return e.next=6,rt(a.state.user_account_state.user_account);case 6:return t=e.sent,e.next=9,a.setState({user_account_state:t});case 9:return e.abrupt("return",a.state.user_account_state);case 10:case"end":return e.stop()}}),e)}))),a.fetchEmployeeCode=function(){var e=Object(Z.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onChange=function(e){a.state.user_account_state.user_account;var t=Object.assign({},a.state.user_account_state);t.user_account=ot({},t.user_account,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,password:e.password,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber}),a.setState({user_account_state:t})},a.componentWillMount=function(){c.firebase.auth().onAuthStateChanged(a.onChange)},a.componentWillUnmount=function(){},a}return Object(he.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){return l.a.createElement(st.Provider,{value:ot({},this.state,{doLogin:this.doLogin,doLogout:this.doLogout,doSendEmailVerification:this.doSendEmailVerification})},this.props.children)}}]),t}(s.Component),mt=function(){return l.a.createElement("ul",{className:"sidebar-menu"},l.a.createElement("li",{className:"header"},r.app_name),l.a.createElement("li",null,l.a.createElement(u.b,{to:n.home_page,title:r.app_name},l.a.createElement("i",{className:"fa fa-home"})," ",l.a.createElement("strong",null,"Home"))),l.a.createElement("li",null,l.a.createElement(u.b,{to:n.about_page,title:"About"},l.a.createElement("i",{className:"fa fa-info"})," ",l.a.createElement("strong",null,"About"))),l.a.createElement("li",null,l.a.createElement(u.b,{to:n.contact_page,title:"Contact Us"},l.a.createElement("i",{className:"fa fa-envelope"})," ",l.a.createElement("strong",null,"Contact"))),l.a.createElement("li",{className:"active treeview"},l.a.createElement(u.b,{to:"#"},l.a.createElement("i",{className:"fa fa-user-md"})," ",l.a.createElement("span",null,"Client Area"),l.a.createElement("span",{className:"pull-right-container"},l.a.createElement("i",{className:"fa fa-angle-left pull-right"}))),l.a.createElement("ul",{className:"treeview-menu"},l.a.createElement("li",null,l.a.createElement(u.b,{to:n.account_page,title:"manage your Account"},l.a.createElement("i",{className:"fa fa-sign-in"}," ")," ",l.a.createElement("strong",null," Account")," ")," "),l.a.createElement("li",null,l.a.createElement(u.b,{to:n.leads_page},l.a.createElement("i",{className:"fa fa-compass"}," "),l.a.createElement("strong",null,"Leads "))),l.a.createElement("li",null,l.a.createElement(u.b,{to:n.loans_page},l.a.createElement("i",{className:"fa fa-dollar"}," "),l.a.createElement("strong",null,"Loans"))),l.a.createElement("li",null,l.a.createElement(u.b,{to:n.active_loans_page},l.a.createElement("i",{className:"fa fa-archive"}," "),l.a.createElement("strong",null,"Active Loans "))),l.a.createElement("li",null,l.a.createElement(u.b,{to:n.chat_page},l.a.createElement("i",{className:"fa fa-comment"}," "),l.a.createElement("strong",null,"Chat "))))),l.a.createElement("li",null,l.a.createElement(u.b,{to:n.blog_page,title:"Blog"},l.a.createElement("i",{className:"fa fa-book"}," ")," ",l.a.createElement("strong",null,"Blog"))),l.a.createElement("li",null,l.a.createElement(u.b,{to:n.dashboard_page,title:"Dashboard"},l.a.createElement("i",{className:"fa fa-dashboard"}," ")," ",l.a.createElement("strong",null,"Dashboard"))),l.a.createElement("li",null,l.a.createElement(u.b,{to:n.admin_page,title:"Dashboard"},l.a.createElement("i",{className:"fa fa-cogs"}," ")," ",l.a.createElement("strong",null,"Admin"))),l.a.createElement("li",null,l.a.createElement(u.b,{to:n.logout_page,title:"Logout"},l.a.createElement("i",{className:"fa fa-sign-out"}," ")," ",l.a.createElement("strong",null," Logout "))))},it=function(){return l.a.createElement("ul",{className:"sidebar-menu"},l.a.createElement("li",{className:"header"},r.app_name),l.a.createElement("li",{className:"active treeview"},l.a.createElement("ul",{className:"treeview-menu"},l.a.createElement("li",null,l.a.createElement(u.b,{to:n.home_page,title:r.app_name},l.a.createElement("i",{className:"fa fa-home"}," ")," Home")),l.a.createElement("li",null,l.a.createElement(u.b,{to:n.about_page,title:"About Us"},l.a.createElement("i",{className:"fa fa-info"}," ")," About")),l.a.createElement("li",null,l.a.createElement(u.b,{to:n.contact_page,title:"Contact Us"},l.a.createElement("i",{className:"fa fa-envelope"}," ")," Contact")),l.a.createElement("li",null,l.a.createElement(u.b,{to:n.blog_page,title:"Blog"},l.a.createElement("i",{className:"fa fa-book"}," ")," ",l.a.createElement("strong",null,"Blog"))),l.a.createElement("li",null,l.a.createElement(u.b,{to:n.login_page,title:"Login"},l.a.createElement("i",{className:"fa fa-sign-in"}," ")," Login ")))))},ut=function(e){function t(e){var a;return Object(de.a)(this,t),(a=Object(Ee.a)(this,Object(ve.a)(t).call(this,e))).state={user_logged_in:!1},a}return Object(he.a)(t,e),Object(ge.a)(t,[{key:"componentDidMount",value:function(){o.currentUser&&this.setState({user_logged_in:!0})}},{key:"render",value:function(){return l.a.createElement(st.Consumer,null,(function(e){e.doLogin;var t=e.user_account_state;return console.log("SIDEBAR",t.user_account),l.a.createElement("div",null,t.user_account.uid?l.a.createElement(mt,null):l.a.createElement(it,null))}))}}]),t}(s.Component);var ft=function(e){return l.a.createElement(s.Fragment,null,l.a.createElement("header",{className:"main-header"},l.a.createElement(u.b,{to:n.home_page,className:"logo"},l.a.createElement("span",{className:"logo-mini"},r.app_name),l.a.createElement("span",{className:"logo-lg"},r.app_long_name)),l.a.createElement("nav",{className:"navbar navbar-static-top"},l.a.createElement("a",{to:"#",className:"sidebar-toggle","data-toggle":"offcanvas","data-target":"sidebar-menu",role:"button",onClick:void 0},l.a.createElement("span",{className:"sr-only"},"S-Plaza"),l.a.createElement("span",{className:"icon-bar"}," "),l.a.createElement("span",{className:"icon-bar"}," "),l.a.createElement("span",{className:"icon-bar"}," ")))))};a(982);function pt(){var e=Object(s.useContext)(st),t=(e.doLogin,e.user_account_state);return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-home"}," ")," ",r.app_name," ")),l.a.createElement("div",{className:"box-tools"})),l.a.createElement("div",{className:"box box-footer"},l.a.createElement("div",{className:"box-header"},l.a.createElement("h3",{className:"box-title"},r.app_descrition))),l.a.createElement("form",{className:"form-horizontal"},l.a.createElement("div",{className:"form-group"},l.a.createElement(u.b,{to:n.login_page},l.a.createElement("button",{type:"button",className:"btn btn-success btn-lg",name:"employees"},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-sign-in"}," ")," Employees Login")))," ",t.user_account.uid?l.a.createElement(u.b,{to:n.loans_page},l.a.createElement("button",{type:"button",className:"btn btn-success btn-lg",name:"employees"},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-sign-in"}," ")," Create Loan"))):""," ",t.user_account.uid?l.a.createElement(u.b,{to:n.leads_page},l.a.createElement("button",{type:"button",className:"btn btn-success btn-lg",name:"employees"},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-users"}," ")," Leads"))):""," ",t.user_account.uid?l.a.createElement(u.b,{to:n.chat_page},l.a.createElement("button",{type:"button",className:"btn btn-success btn-flat btn-lg",name:"chat"},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-comment"}," ")," Chat"," "))):""))))}a(983);function bt(){return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-info"}," ")," About")))))}var dt=a(5),gt=a(57),Et=function(e){function t(e){var a;return Object(de.a)(this,t),(a=Object(Ee.a)(this,Object(ve.a)(t).call(this,e))).state={message:a.props.message},a}return Object(he.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"box box-danger"},l.a.createElement("div",{className:"box box-header pull-right"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("em",null,l.a.createElement("small",null,this.state.message)))))}}]),t}(s.Component);function vt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ht(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?vt(a,!0).forEach((function(t){Object(ye.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):vt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var yt={messageid:"",names:"",email:"",cell:"",subject:"",message:"",message_read:!1,date_read:"",date_sent:""},_t={names_error:"",email_error:"",cell_error:"",subject_error:"",message_error:""},Nt=function(e){function t(){var e;return Object(de.a)(this,t),(e=Object(Ee.a)(this,Object(ve.a)(t).call(this))).change=function(t){var a=Object.assign({},e.state.contact_form);a[t.target.name]=t.target.value,e.setState({contact_form:a})},e.onSubmitContactForm=function(t){t.preventDefault(),console.log(e.state.contact_form);var a=JSON.stringify(e.state.contact_form);console.log(a);var n=Object(gt.a)(e);Q.a.post("/api/contact","&data="+a).then((function(e){if(200===e.status)return e.data})).then((function(e){var t=e.message;n.setState({form_messages:t})})).catch((function(e){var t=e.message;n.setState({form_response:t})}))},e.onCheckErrors=function(){e.isError=!1,e.form_errors=Object.assign({},e.state.form_errors);var t=Object(gt.a)(e);e.do_check_errors=Object(Z.a)(H.a.mark((function a(){var n,r,c,o,s;return H.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=function(){return!0===He.isEmpty(e.state.contact_form.names)&&(t.form_errors.names_error="names field cannot be empty",t.isError=!0),Object(gt.a)(e)},r=function(){return!1===He.validateEmail(e.state.contact_form.email)&&(t.form_errors.email_error="email field is invalid",t.isError=!0),Object(gt.a)(e)},c=function(){return!1===He.isCell(e.state.contact_form.cell)&&(t.form_errors.cell_error="cell field is invalid",t.isError=!0),Object(gt.a)(e)},o=function(){return!0===He.isEmpty(e.state.contact_form.subject)&&(t.form_errors.subject_error="subject field is invalid",t.isError=!0),Object(gt.a)(e)},s=function(){return!0===He.isEmpty(e.state.contact_form.message)&&(t.form_errors.message_error="message field is invalid",t.isError=!0),Object(gt.a)(e)},a.next=7,n();case 7:return a.next=9,r();case 9:return a.next=11,c();case 11:return a.next=13,o();case 13:return a.next=15,s();case 15:return a.abrupt("return",t.isError);case 16:case"end":return a.stop()}}),a)})));var a=e.do_check_errors();return e.setState({form_errors:e.form_errors}),a},e.state={contact_form:ht({},yt),form_errors:ht({},_t),form_messages:""},e.change=e.change.bind(Object(gt.a)(e)),e.onSubmitContactForm=e.onSubmitContactForm.bind(Object(gt.a)(e)),e.onCheckErrors=e.onCheckErrors.bind(Object(gt.a)(e)),e}return Object(he.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"}," ",l.a.createElement("strong",null," ",l.a.createElement("i",{className:"fa fa-envelope"}," ")," Contact Form"))),l.a.createElement("form",{className:"form-horizontal"},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control",name:"names",placeholder:"Names",value:this.state.contact_form.names,onChange:function(t){return e.change(t)}}),this.state.form_errors.names_error?l.a.createElement(Et,{message:this.state.form_errors.names_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control",name:"email",placeholder:"Email",value:this.state.contact_form.email,onChange:function(t){return e.change(t)}}),this.state.form_errors.email_error?l.a.createElement(Et,{message:this.state.form_errors.email_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control",name:"cell",placeholder:"Cell",value:this.state.contact_form.cell,onChange:function(t){return e.change(t)}}),this.state.form_errors.cell_error?l.a.createElement(Et,{message:this.state.form_errors.cell_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control",name:"subject",placeholder:"Subject",value:this.state.contact_form.subject,onChange:function(t){return e.change(t)}}),this.state.form_errors.subject_error?l.a.createElement(Et,{message:this.state.form_errors.subject_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("textarea",{className:"form-control",name:"message",placeholder:"Message",value:this.state.contact_form.message,onChange:function(t){return e.change(t)}}),this.state.form_errors.message_error?l.a.createElement(Et,{message:this.state.form_errors.message_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"button",className:"btn btn-success btn-lg",onClick:function(t){var a=e;e.onCheckErrors().then((function(e){e?(a.setState({form_response:"there where errors aboves"}),console.log("there where errors on form fields")):a.onSubmitContactForm(t)})).catch((function(e){a.setState({form_response:e.message}),console.log("There was an error checking for errors")}))}},l.a.createElement("strong",null," ",l.a.createElement("i",{className:"fa fa-send"}," ")," Submit Message")),l.a.createElement("button",{type:"button",className:"btn btn-warning btn-lg",name:"reset",onClick:function(t){e.setState({contact_form:ht({},yt),form_errors:ht({},_t),form_messages:""})}},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-eraser"}," ")," Reset "))),l.a.createElement("div",{className:"form-group"},l.a.createElement("p",null,this.state.form_messages))))}}]),t}(s.Component);a(984);function Ot(e){var t=e.maps_url;return l.a.createElement(s.Fragment,null,t?l.a.createElement("iframe",{src:t,className:"map-style",height:"460",width:"600",allowFullScreen:!0,frameBorder:"0"}):"\n                    Google Map not Available\n                    ")}function xt(){var e="mailto:".concat(r.business_fax,"@faxfx.net"),t="tel:".concat(r.business_tel);return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-info"}," ")," Contact Details"))),l.a.createElement("div",{className:"box-footer"},l.a.createElement("div",{className:"small-box-footer"},l.a.createElement("div",{className:"box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-building"}," ")," Business Details"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("ul",{className:"list-group"},l.a.createElement("li",{className:"list-group-item"},l.a.createElement("strong",null,"Business Name : "),l.a.createElement("em",null,r.app_long_name)),r.business_reg_number?l.a.createElement("li",{className:"list-group-item"},l.a.createElement("strong",null,"Registration Number : "),l.a.createElement("em",null,r.business_reg_number)):"",r.business_address?l.a.createElement("li",{className:"list-group-item"},l.a.createElement("strong",null,"Business Address : "),l.a.createElement("em",null,r.business_address)):"",r.business_fax?l.a.createElement("li",{className:"list-group-item"},l.a.createElement("strong",null," Business Fax : "),l.a.createElement("em",null,l.a.createElement("a",{href:e},r.business_fax))," ","|"):"",r.business_tel?l.a.createElement("li",{className:"list-group-item"},l.a.createElement("strong",null," Business Tel : "),l.a.createElement("em",null,l.a.createElement("a",{href:t},r.business_tel))):"")),l.a.createElement("div",{className:"col-lg-6"},r.maps_url?l.a.createElement(Ot,{maps_url:r.maps_url}):""))))))}function jt(){var e=Object(s.useState)("contact-form"),t=Object(dt.a)(e,2),a=t[0],n=t[1];return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("i",{className:"fa fa-mobile-phone"}," ")," Contact Details"),l.a.createElement("div",{className:"box-tools"},l.a.createElement("button",{type:"button",className:"btn btn-box-tool",name:"contactform",onClick:function(e){return n("contact-form")}},l.a.createElement("i",{className:"fa fa-envelope"}," ")," "," ","Contact Form"),l.a.createElement("button",{type:"button",className:"btn btn-box-tool",name:"contactdetails",onClick:function(e){return n("contact-details")}},l.a.createElement("i",{className:"fa fa-info"}," ")," "," ","Contact Details"))),"contact-form"===a?l.a.createElement(Nt,null):"","contact-details"===a?l.a.createElement(xt,null):""))}var wt=l.a.forwardRef((function(e,t){var a=e.type,n=e.placeholder,r=e.name,c=e.className,o=e.onChange;return l.a.createElement("input",{ref:t,type:a,className:c,name:r,placeholder:n,onChange:o})})),kt=a(711),Ct=function(e){var t=e.message,a=e.message_type,n=Object(s.useState)({message:"",message_type:"info"}),r=Object(dt.a)(n,2),c=r[0],o=r[1],m=Object(s.useState)({main:"box-info",button_type:"box-title btn-outline-info btn-lg",check_mark:"fa fa-check-circle"}),i=Object(dt.a)(m,2),u=i[0],f=i[1];return Object(s.useEffect)((function(){return o({message:t,message_type:a}),"error"===a&&f({main:"box-danger",button_type:"box-title btn-outline-danger btn-lg",check_mark:"fa fa-close"}),function(){o({message:"",message_type:"info"})}}),[]),l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:u.main},l.a.createElement("div",{className:"box box-header"},l.a.createElement("div",{className:"box-tools"},l.a.createElement("button",{type:"button",className:u.button_type},l.a.createElement("em",null,l.a.createElement("i",{className:u.check_mark}," ")," ",l.a.createElement("small",null,l.a.createElement(kt.a,{string:c.message}))))))))};function St(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Pt(){var e=Object(s.useState)({username:"",password:""}),t=Object(dt.a)(e,2),a=t[0],c=t[1],o=Object(s.useState)({message:"",message_type:"info"}),m=Object(dt.a)(o,2),i=m[0],f=m[1],p=Object(s.useRef)(null),b=Object(s.useRef)(null),d=Object(s.useRef)(null),g=function(e){var t=e.target,n=t.name,r=t.value;console.log("Name : ",n," Value : ",r),c(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?St(a,!0).forEach((function(t){Object(ye.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):St(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a,Object(ye.a)({},n,r))),console.log(a)};return Object(s.useEffect)((function(){localStorage.getItem(r.firebase.authDomain)?console.log("User is logged in"):console.log("User is logged not in"),p.current.focus(),console.log("Login page loaded")}),[]),l.a.createElement(st.Consumer,null,(function(e){console.log("The big loggin context",e);var t=e.doLogin,r=(e.user_account_state,a.username),c=a.password;return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-sign-in"}," ")," Login User")),l.a.createElement("div",{className:"box-tools"},l.a.createElement(u.b,{to:n.forget_password_page},l.a.createElement("button",{type:"button",className:"btn btn-box-tool"},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-unlock"}," ")," Forget Password"))))),l.a.createElement("div",{className:"box-footer"},l.a.createElement("form",{className:"form-horizontal",onSubmit:function(e){return t(r,c).then((function(e){f({message:e.form_response,message_type:"info"})}))}},l.a.createElement("div",{className:"form-group"},l.a.createElement(wt,{type:"text",className:"form-control",name:"username",placeholder:"Login Name",ref:p,value:a.username,onChange:function(e){return g(e)}})),l.a.createElement("div",{className:"form-group"},l.a.createElement(wt,{type:"password",className:"form-control",name:"password",placeholder:"Password",ref:b,value:a.password,onChange:function(e){return g(e)}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"button",className:"btn btn-success btn-lg",ref:d,onClick:function(e){t(r,c).then((function(e){f({message:e.form_response,message_type:"info"})}))}},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-sign-in"}," ")," Login")),l.a.createElement(u.b,{to:n.signup_page},l.a.createElement("button",{type:"button",className:"btn btn-primary btn-lg"},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-sign-in"}," ")," Subscribe")))),l.a.createElement("div",{className:"form-group"},i.message?l.a.createElement(Ct,{message:i.message,message_type:i.message_type}):"")))))}))}function Dt(){return l.a.createElement(st.Consumer,null,(function(e){var t=e.doLogout;return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("i",{className:"fa fa-sign-out"}," ")," Logout")),l.a.createElement("form",{className:"form-horizontal"},l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"button",className:"btn btn-danger",name:"logout",onClick:function(e){t()}},l.a.createElement("i",{className:"fa fa-sign-out"}," ")," ",l.a.createElement("strong",null," Logout "))))))}))}function It(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ft(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?It(a,!0).forEach((function(t){Object(ye.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):It(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var At={username:"",email:"",passwordOne:"",passwordTwo:"",error:null},Lt=function(e,t){return function(){return Object(ye.a)({},e,t)}},Rt=function(e){function t(e){var a;return Object(de.a)(this,t),(a=Object(Ee.a)(this,Object(ve.a)(t).call(this,e))).onSubmit=function(e){var t=a.state,n=(t.username,t.email),r=t.passwordOne;a.props.history;o.doCreateUserWithEmailAndPassword(n,r).then((function(e){a.setState(Ft({},At))})).catch((function(e){a.setState(Lt("error",e))})),e.preventDefault()},a.state=Ft({},At),a}return Object(he.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.email,r=t.passwordOne,c=t.passwordTwo,o=t.error;return l.a.createElement("div",{className:"col-md-6"},l.a.createElement("form",{className:"form-horizontal",onSubmit:this.onSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control",value:a,onChange:function(t){return e.setState(Lt("username",t.target.value))},type:"text",placeholder:"Full Name"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control",value:n,onChange:function(t){return e.setState(Lt("email",t.target.value))},type:"text",placeholder:"Email Address"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control",value:r,onChange:function(t){return e.setState(Lt("passwordOne",t.target.value))},type:"password",placeholder:"Password"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control",value:c,onChange:function(t){return e.setState(Lt("passwordTwo",t.target.value))},type:"password",placeholder:"Confirm Password"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"submit",className:"btn btn-success btn-lg"},l.a.createElement("strong",null," ",l.a.createElement("i",{className:"fa fa-sign-in"}," ")," Sign Up ")),l.a.createElement("button",{type:"reset",className:"btn btn-warning btn-lg",onClick:function(t){e.setState(Ft({},At))}},l.a.createElement("strong",null," ",l.a.createElement("i",{className:"fa fa-eraser"}," ")," Reset  "))),o&&l.a.createElement("p",null,o.message)))}}]),t}(s.Component),Tt=function(e){return l.a.createElement("div",{className:"sign-up"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"}," ",l.a.createElement("strong",null," ",l.a.createElement("i",{className:"fa fa-sign-out"}," ")," Sign Up")),l.a.createElement("div",{className:"box-tools"},l.a.createElement(u.b,{to:g},l.a.createElement("button",{type:"button",className:"btn btn-box-tool"},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-sign-in"}," ")," Login"," "))))),l.a.createElement(Rt,{ShowLogin:e.ShowLogin}))};function Ut(){return l.a.createElement(st.Consumer,null,(function(e){e.doLogin;var t=e.user_account_state;t.user_account.uid;return l.a.createElement(s.Fragment,null,l.a.createElement("aside",{className:"main-sidebar"},l.a.createElement("section",{className:"sidebar"},l.a.createElement("div",{className:"user-panel"},l.a.createElement("div",{className:"pull-left image"},l.a.createElement("span",{className:"img-circle"},l.a.createElement("img",{className:"pola-image",src:"https://mideygroup.co.za/new/wp-content/uploads/2018/04/Midey-logo-home.png"}))),l.a.createElement("div",{className:"pull-left info"},t.user_account.uid?l.a.createElement("p",{id:"strSideUserNameID"},l.a.createElement(u.b,{to:n.logout_page}," Logout")):l.a.createElement("p",{id:"strSideUserNameID"},l.a.createElement(u.b,{to:n.login_page}," Login")))),l.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),console.log("Searching site...")}(e)},method:"get",className:"sidebar-form"},l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{type:"text",name:"q",className:"form-control",placeholder:"Search..."}),l.a.createElement("span",{className:"input-group-btn"},l.a.createElement("button",{type:"submit",name:"search",id:"search-btn",className:"btn btn-flat"},l.a.createElement("i",{className:"fa fa-search"}))))),l.a.createElement("ul",{className:"sidebar-menu"},l.a.createElement(ut,null)))))}))}function zt(){return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-footer with-border"},l.a.createElement("footer",{className:"main-footer"},l.a.createElement("div",{className:"pull-right hidden-xs"},l.a.createElement("a",{href:"#"},r.app_name)),l.a.createElement("div",{className:"pull-left hidden-xs"},l.a.createElement("strong",null,"Copyright \xa9 2019 ",l.a.createElement("a",{href:"#"},r.app_name),"."))," All rights reserved")))}function Mt(){function e(e){e.preventDefault(),console.log("Sending Recovery Email")}return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"}," ",l.a.createElement("strong",null," ",l.a.createElement("i",{className:"fa fa-key"}," ")," Forget Password")," "),l.a.createElement("div",{className:"box-tools"},l.a.createElement(u.b,{to:g},l.a.createElement("button",{type:"reset",className:"btn btn-box-tool"},l.a.createElement("strong",null," ",l.a.createElement("i",{className:"fa fa-sign-in"}," ")," Login"," "))))),l.a.createElement("div",{className:"box box-footer"},l.a.createElement("form",{className:"form-horizontal",onSubmit:function(t){return e(t)}},l.a.createElement("div",{className:"form-group"},l.a.createElement("span",null,"Enter your username so what we can send you a password recovery message")),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"email",className:"form-control",name:"username"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"submit",className:"btn btn-success btn-lg",onClick:function(t){return e(t)}},l.a.createElement("strong",null," ",l.a.createElement("i",{className:"fa fa-unlock-alt"}," ")," Recover")))))))}var Bt=function(e){function t(){var e,a;Object(de.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(Ee.a)(this,(e=Object(ve.a)(t)).call.apply(e,[this].concat(r)))).state={dashboard_user:{}},a.componentWillMount=function(e){console.log("Console log ",e)},a}return Object(he.a)(t,e),Object(ge.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(st.Consumer,null,(function(t){return t.user_account_state.user_account.uid===e.state.dashboard_user.uid?l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("strong",null," ",l.a.createElement("i",{className:"fa fa-dashboard"}," ")," Dashboard"," ")),l.a.createElement("div",{className:"box-tools"},l.a.createElement("button",{className:"btn btn-box-tool"}," ",l.a.createElement("strong",null," ",l.a.createElement("i",{className:"fa fa-callout-info"}," ")," Add Folder"," ")," "))))):l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-danger"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("strong",null," ",l.a.createElement("i",{className:"fa fa-dashboard"}," ")," Dashboard"," "),l.a.createElement("hr",null)),l.a.createElement("div",{className:"box box-warning"},l.a.createElement("span",{className:"error-content"},l.a.createElement("em",null,"Unfortunately you are not authorized to access dashboard page"))))))}))}}]),t}(s.Component),Jt=(a(1106),Object(s.createContext)()),Wt=function(e){var t=Object(s.useState)("entertainment"),a=Object(dt.a)(t,2),n=a[0],r=a[1],c=Object(s.useState)([]),o=Object(dt.a)(c,2),m=o[0],i=o[1],u=Object(s.useContext)(st).user_account_state,f=function(){var e=Object(Z.a)(H.a.mark((function e(){var t,a,r,c,o;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.user_account.uid,a="https://mobius-articles.herokuapp.com/"+"refine/".concat(n),r=Ge()().format("YYYY-MM-DD"),c=n+t+"weqtrading"+r,o=function(){var e=Object(Z.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get(a).then((function(e){if(console.log("Results",e),200===e.status)return e.data})).then((function(e){console.log("articles",e),i(e),Ye.setState(t,c,e).then((function(e){}))})).catch((function(e){console.log("error occured",e),i([])}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ye.getState(t,c).then((function(e){void 0===e?o().then((function(e){return console.log("fetched from back end")})):i(e)})),e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){return f().then((function(e){console.log("Initial search performed ",m)})),function(){i([])}}),[]),Object(s.useEffect)((function(){return f().then((function(e){console.log("Search Refined",e)})),function(){i([])}}),[n]),l.a.createElement(Jt.Provider,{value:{posts:m,setCategory:r,category:n}},e.children)};function qt(e){var t=e.post_data,a=Object(s.useState)({}),n=Object(dt.a)(a,2),r=(n[0],n[1],t);return console.log("Articles",r),l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body with-border"},l.a.createElement("div",{className:"box box-header with-border"},l.a.createElement("a",{href:r.url,target:"_blank"},l.a.createElement("h2",{className:"box-title"},r.title))),l.a.createElement("div",{className:"polaroid"},l.a.createElement("img",{src:r.urlToImage,className:"pola-image"}),l.a.createElement("div",{className:"polatext"},r.description),l.a.createElement("div",{className:"box box-footer with-border"},l.a.createElement("a",{href:r.url,target:"_blank"},l.a.createElement("h3",{className:"box-title"}," ",r.source.name," - ",r.author," ")),l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(e){}},l.a.createElement("i",{className:"fa fa-file-pdf-o"}," ")," Read more...")))))}var Vt=function(){var e=Object(s.useState)({menu:!1}),t=Object(dt.a)(e,2),a=t[0],n=t[1],r=Object(s.useContext)(Jt),c=r.category,o=r.setCategory,m=r.posts,i=function e(){n({menu:!1}),document.removeEventListener("click",e)},u="".concat(c[0].toUpperCase()).concat(c.slice(1)," News");return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("strong",null," ",l.a.createElement("i",{className:"fa fa-file-text"}," ")," Blog"," ")),l.a.createElement("div",{className:"box-tools"},l.a.createElement("div",{className:"dropdown"},l.a.createElement("button",{type:"button",className:"btn btn-box-tool dropdown-toggle",onClick:function(e){return function(e){e.preventDefault(),n({menu:!0}),document.addEventListener("click",i)}(e)}},l.a.createElement("i",{className:"fa fa-bars"}," ")," "),a.menu?l.a.createElement("ul",{className:"dropmenu"},l.a.createElement("li",{className:"btn btn-block droplink",name:"entertainment",onClick:function(){return o("entertainment")}},l.a.createElement("i",{className:"fa fa-folder-open"}," ")," Entertainment"," "),l.a.createElement("li",{className:"btn btn-block droplink",name:"sports",onClick:function(){return o("sports")}},l.a.createElement("i",{className:"fa fa-folder-open"}," ")," Sports"," "),l.a.createElement("li",{className:"btn btn-block droplink",name:"business",onClick:function(){return o("business")}},l.a.createElement("i",{className:"fa fa-folder-open"}," ")," Business"," "),l.a.createElement("li",{className:"btn btn-block droplink",name:"tech",onClick:function(){return o("tech")}},l.a.createElement("i",{className:"fa fa-folder-open"}," ")," Tech"," "),l.a.createElement("li",{className:"btn btn-block droplink",name:"science",onClick:function(){return o("science")}},l.a.createElement("i",{className:"fa fa-folder-open"}," ")," Science"," "),l.a.createElement("li",{className:"btn btn-block droplink",name:"health",onClick:function(){return o("health")}},l.a.createElement("i",{className:"fa fa-folder-open"}," ")," Health")):null))),l.a.createElement("div",{className:"box box-footer"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("strong",null," ",l.a.createElement("i",{className:"fa fa-files-o"}," ")," ",u," "))),m&&m.map((function(e,t){return l.a.createElement(qt,{post_data:e,key:t})})))))},Yt={company_id:"",uid:"",company:"",reg:"",fsp:"",ncr:"",physical:"",postal:""},Kt={uid_error:"",company_error:"",reg_error:"",fsp_error:"",ncr_error:"",physical_error:"",postal_error:""},Gt={message:"",message_type:"INFO"};function Ht(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Zt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ht(a,!0).forEach((function(t){Object(ye.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ht(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var $t=function(){var e=Object(Z.a)(H.a.mark((function e(t,a){var r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={status:!1,payload:{},error:{}},e.next=3,Q.a.post(n.company_api_url+"/".concat(t),a).then((function(e){if(200===e.status)return e.data;throw new Error("There was an error creating company")})).then((function(e){r.payload=Zt({},e),r.status=!0,r.error={}})).catch((function(e){r.payload={},r.status=!1,r.error=Zt({},e)}));case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Qt=function(){var e=Object(Z.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={status:!1,payload:{},error:{}},e.next=3,Q.a.get(n.company_api_url+"/get-company/".concat(t)).then((function(e){if(200==e.status)return e.data;throw new Error("Error fetching company data")})).then((function(e){a.status=!0,a.payload=Zt({},e),a.error={}})).catch((function(e){a.status=!1,a.payload={},a.error=Zt({},e)}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Xt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ea(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Xt(a,!0).forEach((function(t){Object(ye.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Xt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ta(){var e=Object(s.useState)(Yt),t=Object(dt.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(Kt),c=Object(dt.a)(r,2),o=c[0],m=c[1],i=Object(s.useState)(Gt),u=Object(dt.a)(i,2),f=u[0],p=u[1],b=Object(s.useContext)(st).user_account_state;function d(){return(d=Object(Z.a)(H.a.mark((function e(){var t,n,r,c,s,l,i;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,function(){return!!He.isEmpty(a.uid)&&(m(ea({},o,{uid_error:"Company is not attached to a valid account"})),!0)},n=function(){return!!He.isEmpty(a.company)&&(m(ea({},o,{company_error:"company name field cannot be empty"})),!0)},r=function(){return!1===He.isCompanyReg(a.reg)&&(m(ea({},o,{reg_error:"company registration number not valid"})),!0)},c=function(){return!1===He.isFSP(a.fsp)&&(m(ea({},o,{fsp_error:"fsp number not valid"})),!0)},s=function(){return!1===He.isNCR(a.ncr)&&(m(ea({},o,{ncr_error:"ncr number is not valid"})),!0)},l=function(){return!!He.isEmpty(a.physical)&&(m(ea({},o,{physical_error:"physical address cannot be empty"})),!0)},i=function(){return!!He.isEmpty(a.postal)&&(m(ea({},o,{postal_error:"postal address cannot be empty"})),!0)},e.next=10,n();case 10:if(!e.sent){e.next=12;break}t=!0;case 12:return e.next=14,r();case 14:if(!e.sent){e.next=16;break}t=!0;case 16:return e.next=18,s();case 18:if(!e.sent){e.next=20;break}t=!0;case 20:return e.next=22,c();case 22:if(!e.sent){e.next=24;break}t=!0;case 24:return e.next=26,l();case 26:if(!e.sent){e.next=28;break}t=!0;case 28:return e.next=30,i();case 30:if(!e.sent){e.next=32;break}t=!0;case 32:return e.abrupt("return",t);case 33:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Object(Z.a)(H.a.mark((function e(t){var r,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=JSON.stringify(a),c=b.user_account.uid,e.next=5,$t(c,r).then((function(e){e.status?n(e.payload):p({message:e.error.message,message_type:"error"})})).catch((function(e){p({message:e.message,message_type:"error"})}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){var e=b.user_account.uid;return Qt(e).then((function(e){e.status?n(e.payload):n(Yt)})).catch((function(e){p({message:e.message,message_type:"error"})})),function(){n(Yt)}}),[]),l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("i",{className:"fa fa-registered"}," ")," Company Details")),l.a.createElement("div",{className:"box box-footer"},l.a.createElement("form",{className:"form-horizontal"},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"company",value:a.company,onChange:function(e){return n(ea({},a,Object(ye.a)({},e.target.name,e.target.value)))},placeholder:"Company Name..."}),o.company_error?l.a.createElement(Et,{message:o.company_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"reg",value:a.reg,onChange:function(e){return n(ea({},a,Object(ye.a)({},e.target.name,e.target.value)))},placeholder:"Reg Number..."}),o.reg_error?l.a.createElement(Et,{message:o.reg_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"fsp",value:a.fsp,onChange:function(e){return n(ea({},a,Object(ye.a)({},e.target.name,e.target.value)))},placeholder:"FSP..."}),o.fsp_error?l.a.createElement(Et,{message:o.fsp_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"ncr",value:a.ncr,onChange:function(e){return n(ea({},a,Object(ye.a)({},e.target.name,e.target.value)))},placeholder:"NCR..."}),o.ncr_error?l.a.createElement(Et,{message:o.ncr_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("textarea",{className:"form-control",name:"physical",value:a.physical,onChange:function(e){return n(ea({},a,Object(ye.a)({},e.target.name,e.target.value)))},placeholder:"Physical Address..."}),o.physical_error?l.a.createElement(Et,{message:o.physical_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("textarea",{className:"form-control",name:"postal",value:a.postal,onChange:function(e){return n(ea({},a,Object(ye.a)({},e.target.name,e.target.value)))},placeholder:"Postal Address..."}),o.postal_error?l.a.createElement(Et,{message:o.postal_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"button",className:"btn btn-success btn-lg",name:"update",onClick:function(e){(function(){return d.apply(this,arguments)})(e).then((function(t){if(t)throw new Error("There was an error processing form");(function(e){return g.apply(this,arguments)})(e).then((function(e){console.log(e)}))})).catch((function(e){console.log(e),p({message:e.message,message_type:"error"})}))}},l.a.createElement("i",{className:"fa fa-cloud-upload"}," ")," Update"),l.a.createElement("button",{type:"button",className:"btn btn-warning btn-lg",name:"reset",onClick:function(e){p(Gt),m(Kt),n(Yt)}},l.a.createElement("i",{className:"fa fa-eraser"}," ")," Reset")),l.a.createElement("div",{className:"form-group"},f.message?l.a.createElement(Ct,{message:f.message,message_type:f.message_type}):"")))))}var aa={uid:"",names:"",surname:"",cell:"",email:"",password:"",repeatpassword:"",is_admin:!1},na={names_error:"",surname_error:"",cell_error:"",email_error:"",password_error:"",repeatpassword_error:""};function ra(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ca(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ra(a,!0).forEach((function(t){Object(ye.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ra(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var oa=function(){var e=Object(Z.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={status:!1,payload:{},error:{}},e.next=3,Q.a.put(Y,t).then((function(e){if(200===e.status)return e.data;throw new Error("there was an error saving user")})).then((function(e){a.status=!0,a.payload=ca({},e),a.error={}})).catch((function(e){a.status=!1,a.payload={},a.error=ca({},e)}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sa=function(){var e=Object(Z.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={status:!1,payload:{},error:{}},e.next=3,Q.a.get(Y+"/".concat(t)).then((function(e){if(200===e.status)return e.data;throw new Error("error fetching user")})).then((function(e){a.status=!0,a.payload=ca({},e),a.error={}})).catch((function(e){a.status=!1,a.payload={},a.error=ca({},e)}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function la(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ma(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?la(a,!0).forEach((function(t){Object(ye.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):la(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ia=function(){var e=Object(Z.a)(H.a.mark((function e(t,a){var r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={status:!0,payload:[],error:{}},e.next=3,Q.a.get(n.company_api_url+"/users/".concat(a,"/").concat(t)).then((function(e){if(200===e.status)return e.data;throw new Error("there was an error fetching company users")})).then((function(e){r.status=!0,r.payload=Object(ze.a)(e),r.error={}})).catch((function(e){r.status=!1,r.payload=[],r.error=ma({},e)}));case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ua=function(){var e=Object(Z.a)(H.a.mark((function e(t,a){var r,c,o;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={status:!0,payload:{},error:{}},c={to:a.email,from:"no-response@loanmanagement@sa-loans.appspot.com",subject:"user invitation",text:"\n\t\thi ".concat(a.names," we have sent you this email as \n\t\tan invitation to start using our loan management\n\t\tweb application, in order to accept this invitation\n\t\tplease subscribe to our web application as an employee\n\t\tand use the following reference code\n\n\n\n\t\t\n\t\t"),html:"\n\t\t\n\t\t"},o=JSON.stringify(c),e.next=5,Q.a.post(n.api_user_endpoint+"/send-invite/".concat(t),o).then((function(e){if(200===e.status)return e.data;throw new Error("there was an error sending email invite")})).then((function(e){r.status=!0,r.payload=ma({},e),r.error={}})).catch((function(e){r.status=!1,r.payload={},r.error=ma({},e)}));case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),fa=a(152),pa=function(e){var t=e.data;return l.a.createElement(fa.a,{striped:!0,bordered:!0,hover:!0,data:t})};function ba(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function da(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ba(a,!0).forEach((function(t){Object(ye.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ba(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ga={names_error:"",surname_error:"",cell_error:"",email_error:""},Ea={message:"",message_type:"INFO"};function va(e){var t=e.user,a=Object(s.useState)(aa),n=Object(dt.a)(a,2),r=n[0],c=n[1],o=Object(s.useState)(na),m=Object(dt.a)(o,2),i=m[0],u=(m[1],Object(s.useState)({message:"",message_type:"info"})),f=Object(dt.a)(u,2),p=(f[0],f[1]),b=Object(s.useContext)(st).user_account_state;return Object(s.useEffect)((function(){return c(t),function(){c(aa)}}),[t]),l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},"Manage User")),l.a.createElement("form",{className:"form-horizontal"},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"names",value:r.names,onChange:function(e){return c(da({},r,Object(ye.a)({},e.target.name,e.target.value)))}}),i.names_error?l.a.createElement(Et,{message:i.names_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"surname",value:r.surname,onChange:function(e){return c(da({},r,Object(ye.a)({},e.target.name,e.target.value)))}}),i.surname_error?l.a.createElement(Et,{message:i.surname_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"cell",value:r.cell,onChange:function(e){return c(da({},r,Object(ye.a)({},e.target.name,e.target.value)))}}),i.cell_error?l.a.createElement(Et,{message:i.cell_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"email",value:r.email,onChange:function(e){return c(da({},r,Object(ye.a)({},e.target.name,e.target.value)))}}),i.email_error?l.a.createElement(Et,{message:i.email_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"button",className:"btn btn-success btn-lg",name:"save",onClick:function(e){return function(e){console.log(e.target);var t=r,a=b.user_account.uid;ua(a,t).then((function(e){e.status&&p({message:"invitation email was successfully sent",message_type:"info"}),p({message:e.error.message,message_type:"error"})})).catch((function(e){p({message:e.message,message_type:"error"})}))}(e)}},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-send-o"}," ")," Invite"))))))}function ha(e){var t=e.user_account,a=Object(s.useState)(aa),n=Object(dt.a)(a,2),r=n[0],c=n[1],o=Object(s.useState)(ga),m=Object(dt.a)(o,2),i=m[0],u=m[1],f=Object(s.useState)(Ea),p=Object(dt.a)(f,2),b=p[0],d=p[1],g=function(){var e=Object(Z.a)(H.a.mark((function e(t){var a,n,c,o,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,n=function(){return!!He.isEmpty(r.names)&&(u(da({},i,{names_error:"names field cannot be empty"})),!0)},c=function(){return!!He.isEmpty(r.surname)&&(u(da({},i,{surname_error:"surname field cannot be empty"})),!0)},o=function(){return!1===He.isCell(r.cell)&&(u(da({},i,{cell_error:"cell number field is invalid"})),!0)},s=function(){return!1===He.validateEmail(r.email)&&(u(da({},i,{email_error:"email field is invalid"})),!0)},e.next=7,n();case 7:if(!e.sent){e.next=9;break}a=!0;case 9:return e.next=11,c();case 11:if(!e.sent){e.next=13;break}a=!0;case 13:return e.next=15,o();case 15:if(!e.sent){e.next=17;break}a=!0;case 17:return e.next=19,s();case 19:if(!e.sent){e.next=21;break}a=!0;case 21:return e.abrupt("return",a);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(Z.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Updating personal details"),a=JSON.stringify(r),console.dir("this is what i am sending",a),oa(a).then((function(e){e.status?(c(e.payload),d({message:"successfully update user personal details"})):d({message:e.error.message,message_type:"error"})})).catch((function(e){d({message:e.message,message_type:"error"})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){var e=t.uid;return sa(e).then((function(e){e.status?c(e.payload):c(da({},r,{uid:t.uid,email:t.email,cell:t.phoneNumber}))})).catch((function(e){console.error(e)})),function(){c(aa)}}),[]),l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("strong",null,l.a.createElement("small",null," ",l.a.createElement("i",{className:"fa fa-user"}," ")," Personal Details"," ")))),l.a.createElement("div",{className:"box-footer col-lg-8"},l.a.createElement("form",{className:"form-horizontal"},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"names",placeholder:"Names...",value:r.names,onChange:function(e){return c(da({},r,Object(ye.a)({},e.target.name,e.target.value)))}}),i.names_error?l.a.createElement(Et,{message:i.names_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"surname",placeholder:"Surname...",value:r.surname,onChange:function(e){return c(da({},r,Object(ye.a)({},e.target.name,e.target.value)))}}),i.surname_error?l.a.createElement(Et,{message:i.surname_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"cell",placeholder:"Cell...",value:r.cell,onChange:function(e){return c(da({},r,Object(ye.a)({},e.target.name,e.target.value)))}}),i.cell_error?l.a.createElement(Et,{message:i.cell_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"email",placeholder:"Email...",value:r.email,onChange:function(e){return c(da({},r,Object(ye.a)({},e.target.name,e.target.value)))}}),i.email_error?l.a.createElement(Et,{message:i.email_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"button",className:"btn btn-success btn-lg",name:"update",onClick:function(e){return g(e).then((function(t){if(t)throw new Error("error processing form");E(e).then((function(e){console.log(e)}))})).catch((function(e){d({message:e.message,message_type:"error"})}))}},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-save"}," ")," Update")),l.a.createElement("button",{type:"button",className:"btn btn-warning btn-lg",name:"reset",onClick:function(){d({message:"",message_type:"INFO"}),u(da({},ga)),c(da({},aa))}},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-eraser"}," ")," Reset"))),l.a.createElement("div",{className:"form-group"},b.message?l.a.createElement(Ct,{message:b.message,message_type:b.message_type}):""))))}function ya(){var e=Object(s.useState)([]),t=Object(dt.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)({}),c=Object(dt.a)(r,2),o=c[0],m=c[1],i=Object(s.useContext)(st).user_account_state,u=Object(s.useState)(aa),f=Object(dt.a)(u,2),p=f[0],b=f[1],d=function(){var e=Object(Z.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b(a.find((function(e){return e.uid===t})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(Z.a)(H.a.mark((function e(){var t,n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],a.forEach((function(e){t.push({names:l.a.createElement("span",{className:"lead-list",onClick:function(t){return d(e.uid)}}," ",e.names," "),surname:e.surname,cell:e.cell,email:e.email})})),n={columns:[{label:"Names",field:"names",sort:"asc",width:150},{label:"Surname",field:"surname",sort:"asc",width:270},{label:"cell",field:"cell",sort:"asc",width:200},{label:"Email",field:"email",sort:"asc",width:100}],rows:t},e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){var e=i.user_account.uid;return Qt(e).then((function(t){if(t.status){var a=t.payload.company_id;ia(e,a).then((function(e){e.status?n(e.payload):n([])})).catch((function(e){n([])}))}else console.log(t.error.message)})).catch((function(e){console.log(e.message)})),function(){}}),[]),Object(s.useEffect)((function(){return g().then((function(e){m(e)})).catch((function(e){console.log(e.message)})),function(){m({})}}),[a]),l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("i",{className:"fa fa-users"}," ")," Active Users")),p.uid?l.a.createElement(va,{user:p}):l.a.createElement(pa,{data:o})))}function _a(){var e=Object(s.useState)(aa),t=Object(dt.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)(ga),o=Object(dt.a)(c,2),m=o[0],i=o[1],u=Object(s.useState)(Ea),f=Object(dt.a)(u,2),p=f[0],b=f[1];function d(e){r(da({},a,Object(ye.a)({},e.target.name,e.target.value)))}function g(){return(g=Object(Z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){var e=Object(Z.a)(H.a.mark((function e(){var t,n,r,c,o;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,n=function(){return!0===He.isEmpty(a.names)&&(i(da({},m,{names_error:"Names field cannot be empty"})),!0)},r=function(){return!0===He.isEmpty(a.surname)&&(i(da({},m,{surname_error:"Surname field cannot be empty"})),!0)},c=function(){return!1===He.isCell(a.cell)&&(i(da({},m,{cell_error:"Cell number field is invalid"})),!0)},o=function(){return!1===He.validateEmail(a.email)&&(i(da({},m,{email_error:"Email field is invalid"})),!0)},e.next=7,n();case 7:if(!e.sent){e.next=9;break}t=!0;case 9:return e.next=11,r();case 11:if(!e.sent){e.next=13;break}t=!0;case 13:return e.next=15,c();case 15:if(!e.sent){e.next=17;break}t=!0;case 17:return e.next=19,o();case 19:if(!e.sent){e.next=21;break}t=!0;case 21:return e.abrupt("return",t);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=3,n();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=Object(Z.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{Q.a.post(n.user_api_url,JSON.stringify(a)).then((function(e){if(200===e.status)return e.data;throw new Error("There was an error creating a new user")})).then((function(e){r(e)})).catch((function(e){b({message:e.message,message_type:"error"})}))}catch(t){b({message:t.message,message_type:"error"})}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("i",{className:"fa fa-user-plus"}," ")," Add Users")),l.a.createElement("div",{className:"box box-footer"},l.a.createElement("form",{className:"form-horizontal"},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"names",value:a.names,onChange:function(e){return d(e)},placeholder:"Names..."}),m.names_error?l.a.createElement(Et,{message:m.names_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"surname",onChange:function(e){return d(e)},value:a.surname,placeholder:"Surname..."}),m.surname_error?l.a.createElement(Et,{message:m.surname_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"cell",onChange:function(e){return d(e)},value:a.cell,placeholder:"Cell..."}),m.cell_error?l.a.createElement(Et,{message:m.cell_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"email",onChange:function(e){return d(e)},value:a.email,placeholder:"Email..."}),m.email_error?l.a.createElement(Et,{message:m.email_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"button",className:"btn btn-success btn-lg",name:"adduser",onClick:function(e){(function(e){return g.apply(this,arguments)})().then((function(t){if(!0===t)throw new Error("There where errors processing form");(function(e){return E.apply(this,arguments)})(e).then((function(e){console.log(e)})).catch((function(e){b({message:"There where errors adding user : "+e,message_type:"Error"})}))})).catch((function(e){b({message:"There where errors adding user : "+e,message_type:"Error"}),console.log("Error sending form",e)}))}},l.a.createElement("i",{className:"fa fa-user-plus"}," ")," Add User"),l.a.createElement("button",{type:"button",className:"btn btn-warning btn-lg",name:"reset",onClick:function(e){r(aa),i(ga),b(Ea)}},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-eraser"}," ")," Reset"))),l.a.createElement("div",{className:"form-group"},p.message?l.a.createElement(Ct,{message:p.message,message_type:p.message_type}):"")))))}function Na(){var e=Object(s.useState)("add-users"),t=Object(dt.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)({menu:!1}),c=Object(dt.a)(r,2),o=c[0],m=c[1],i=function e(){m({menu:!1}),document.removeEventListener("click",e)};return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("i",{className:"fa fa-users"}," "),"Users"),l.a.createElement("div",{className:"box-tools"},l.a.createElement("div",{className:"dropdown"},l.a.createElement("button",{type:"button",className:"btn btn-box-tool dropdown",onClick:function(e){return function(e){e.preventDefault(),m({menu:!0}),document.addEventListener("click",i)}(e)}},l.a.createElement("i",{className:"fa fa-bars"}," ")," "),o.menu?l.a.createElement("ul",{className:"dropmenu"},l.a.createElement("li",{className:"btn btn-block droplink",name:"add-users",onClick:function(){return n("add-users")}},l.a.createElement("i",{className:"fa fa-user-plus"}," "),"Add Users"),l.a.createElement("li",{className:"btn btn-block droplink",name:"active-users",onClick:function(){return n("active-users")}},l.a.createElement("i",{className:"fa fa-user"}," "),"Active Users"),l.a.createElement("li",{className:"btn btn-block droplink",name:"blocked-users",onClick:function(){return n("blocked-users")}},l.a.createElement("i",{className:"fa fa-user-secret"}," "),"Blocked Users"),l.a.createElement("li",{className:"btn btn-block droplink",name:"add-users",onClick:function(){return n("add-users")}},l.a.createElement("i",{className:"fa fa-user-plus"}," "),"Add Users")):null))),"add-users"===a?l.a.createElement(_a,null):"","active-users"===a?l.a.createElement(ya,null):""))}function Oa(){var e=Object(s.useState)("personaldetails"),t=Object(dt.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)({menu:!1}),c=Object(dt.a)(r,2),o=c[0],m=c[1],i=function e(){m({menu:!1}),document.removeEventListener("click",e)};return Object(s.useEffect)((function(){console.log(a)}),[]),l.a.createElement(st.Consumer,null,(function(e){e.doSendEmailVerification;var t=e.user_account_state;return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-sign-in"}," ")," Account")),l.a.createElement("div",{className:"box-tools"},l.a.createElement("div",{className:"dropdown"},l.a.createElement("button",{type:"button",className:"btn btn-box-tool dropdown",onClick:function(e){return function(e){e.preventDefault(),m({menu:!0}),document.addEventListener("click",i)}(e)}},l.a.createElement("i",{className:"fa fa-bars"}," ")," "),o.menu?l.a.createElement("ul",{className:"dropmenu"},l.a.createElement("li",{className:"btn btn-block droplink",name:"personaldetails",onClick:function(e){return n("personaldetails")}},l.a.createElement("i",{className:"fa fa-user"}," ")," Personal Details"),l.a.createElement("li",{className:"btn btn-block droplink",name:"companydetails",onClick:function(e){return n("companydetails")}},l.a.createElement("i",{className:"fa fa-registered"}," ")," Company Details"),l.a.createElement("li",{className:"btn btn-block droplink",name:"users",onClick:function(e){return n("users")}},l.a.createElement("i",{className:"fa fa-users"}," ")," Users")):null))),"personaldetails"===a?l.a.createElement(ha,{user_account:t.user_account}):"","companydetails"===a?l.a.createElement(ta,null):"","users"===a?l.a.createElement(Na,null):""))}))}function xa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ja(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xa(a,!0).forEach((function(t){Object(ye.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xa(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var wa=function(){var e=Object(Z.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={status:!0,payload:{},error:{}},e.next=3,Q.a.post(n.loan_personal_details_api_url,t).then((function(e){if(200===e.status)return e.data;throw new Error("there was an saving client personal details")})).then((function(e){a.status=!0,a.payload=ja({},e),a.error={}})).catch((function(e){a.status=!1,a.payload={},a.error=ja({},e)}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ka=function(){var e=Object(Z.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={status:!0,payload:{},error:{}},e.next=3,Q.a.get(n.loan_personal_details_api_url+"/".concat(t)).then((function(e){if(200===e.status)return e.data;throw new Error("there was an error fetching applicant details")})).then((function(e){a.status=!0,a.payload=ja({},e),a.error={}})).catch((function(e){a.status=!1,a.payload={},a.error=ja({},e)}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ca=function(){var e=Object(Z.a)(H.a.mark((function e(t,a){var r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={status:!0,payload:{},error:{}},e.next=3,Q.a.get(n.loans_api_endpoint+"/create-loan-id/".concat(a,"/").concat(t)).then((function(e){if(200===e.status)return e.data;throw new Error("there was an error creating new loan")})).then((function(e){r.status=!0,r.payload=ja({},e),r.error={}})).catch((function(e){r.status=!1,r.payload={},r.error=ja({},e)}));case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Sa=Object(s.createContext)(),Pa={loan_id:"",uid:"",employee_code:"",company_id:""},Da=function(e){var t=Object(s.useState)(Pa),a=Object(dt.a)(t,2),n=a[0],r=a[1],c=Object(s.useContext)(st).user_account_state;return Object(s.useEffect)((function(){var e=c.user_account.uid;return Ca(e).then((function(e){e.status?r(e.payload):r(Pa)})).catch((function(e){console.log("Error setting loan constant",e.message),r(Pa)})),function(){r(Pa)}}),[]),l.a.createElement(Sa.Provider,{value:{loans_constant:n}},e.children)},Ia={uid:"",loan_id:"",title:"",surname:"",names:"",id:"",dob:"",nationality:"",allps:""},Fa={title_error:"",surname_error:"",names_error:"",id_error:"",dob_error:"",nationality_error:""},Aa={id:"",stand:"",street_name:"",city:"",province:"",country:"",postal_code:""},La={stand_error:"",street_name_error:"",city_error:"",province_error:"",country_error:"",postal_code_error:""},Ra={id:"",box:"",city:"",province:"",postal_code:"",country:""},Ta={box_error:"",city_error:"",province_error:"",postal_code_error:"",country_error:""},Ua={id:"",tel:"",cell:"",email:""},za={tel_error:"",cell_error:"",email_error:""},Ma={client_id:"",names:"",address:"",cell:""},Ba={id:"",names_error:"",address_error:"",cell_error:""},Ja=function(e){console.dir("Mapping this fileds : ",e);var t=[];return e.forEach((function(e){t.push({uid:e.uid,loan_id:e.loan_id,title:e.title,surname:e.surname,names:e.names,id:e.id,dob:e.dob,nationality:e.nationality,allps:e.allps})})),t};function Wa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function qa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Wa(a,!0).forEach((function(t){Object(ye.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Wa(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Va=function(){var e=Object(s.useState)(Ia),t=Object(dt.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(Fa),c=Object(dt.a)(r,2),o=c[0],m=c[1],i=Object(s.useState)({message:"",message_type:"INFO"}),u=Object(dt.a)(i,2),f=u[0],p=u[1],b=(Object(s.useContext)(st).user_account_state,Object(s.useContext)(Sa).loans_constant),d=function(e){n(qa({},a,Object(ye.a)({},e.target.name,e.target.value)))},g=function(){var e=Object(Z.a)(H.a.mark((function e(t){var n,r,c,s,l,i,u,f;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=!1,r=function(){return!!He.isEmpty(a.title)&&(m(qa({},o,{title_error:"Please select title"})),!0)},c=function(){return!!He.isEmpty(a.surname)&&(m(qa({},o,{surname_error:"Surname field cannot be empty"})),!0)},s=function(){return!!He.isEmpty(a.names)&&(m(qa({},o,{names_error:"Names field cannot be empty"})),!0)},l=function(){return!1===He.isIDNumber(a.id)&&(m(qa({},o,{id_error:"ID Number is invalid"})),!0)},i=function(){return!!He.isEmpty(a.dob)&&(m(qa({},o,{dob_error:" Date of birth field cannot be empty"})),!0)},u=function(){return!!He.isEmpty(a.nationality)&&(m(qa({},o,{nationality_error:"Nationality field cannot be empty"})),!0)},f=function(){var e=Object(Z.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!!r()||n,n=!!c()||n,n=!!s()||n,n=!!l()||n,n=!!i()||n,n=!!u()||n,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.abrupt("return",f());case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(Z.a)(H.a.mark((function e(t){var n;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify(a),e.next=3,wa(n).then((function(e){e.status?p({message:"successfully saved applicant personal details"}):p({message:e.error.message,message_type:"error"})})).catch((function(e){p({message:e.message,message_type:"error"})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){var e=b.loan_id;return ka(e).then((function(e){e.status?n({personal_details:a,uid:e.payload.uid,loan_id:e.payload.loan_id}):p({message:e.error.message,message_type:"error"})})).catch((function(e){p({message:e.message,message_type:"error"})})),function(){n(Ia)}}),[]),l.a.createElement(s.Fragment,null,l.a.createElement("form",{className:"form-horizontal"},l.a.createElement("div",{className:"box box-footer"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("i",{className:"fa fa-user"}," ")," Personal Details")),l.a.createElement("div",{className:"form-group"},l.a.createElement("select",{className:"form-control",name:"title",value:a.title,onChange:function(e){return d(e)}},l.a.createElement("option",{value:"mr"},"MR"),l.a.createElement("option",{value:"mrs"},"Mrs"),l.a.createElement("option",{value:"miss"},"Miss")),o.title_error?l.a.createElement(Et,{message:o.title_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"names",placeholder:"Names...",value:a.names,onChange:function(e){return d(e)}}),o.names_error?l.a.createElement(Et,{message:o.names_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"surname",placeholder:"Surname...",value:a.surname,onChange:function(e){return d(e)}}),o.surname_error?l.a.createElement(Et,{message:o.surname_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"id",placeholder:"ID / Passport Number",value:a.id,onChange:function(e){return d(e)}}),o.id_error?l.a.createElement(Et,{message:o.id_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"dob",placeholder:"Date of Birth...",value:a.dob,onChange:function(e){return d(e)}}),o.dob_error?l.a.createElement(Et,{message:o.dob_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"nationality",placeholder:"Nationality...",value:a.nationality,onChange:function(e){return d(e)}}),o.nationality_error?l.a.createElement(Et,{message:o.nationality_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"button",className:"btn btn-success btn-lg",name:"save",onClick:function(e){g(e).then((function(t){if(t)throw new Error("there was an error processing form");E(e).then((function(e){console.log(e)})).catch((function(e){p({message:e.message,message_type:"error"})}))})).catch((function(e){console.log(e),p({message:e.message,message_type:"error"})}))}},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-save"}," ")," Save")),l.a.createElement("button",{type:"button",className:"btn btn-warning btn-lg",name:"reset",onClick:function(){n(Ia),m(Fa),p({message:"",message_type:"INFO"})}},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-eraser"}," ")," Reset"))),l.a.createElement("div",{className:"form-group"},f.message?l.a.createElement(Ct,{message:f.message,message_type:f.message_type}):""))))},Ya=function(){var e=Object(s.useState)(Aa),t=Object(dt.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)(La),o=Object(dt.a)(c,2),m=o[0],i=o[1],u=Object(s.useState)({message:"",message_type:"INFO"}),f=Object(dt.a)(u,2),p=f[0],b=f[1],d=function(e){r(qa({},a,Object(ye.a)({},e.target.name,e.target.value)))},g=(a.id,a.stand),E=a.street_name,v=a.city,h=a.province,y=a.country,_=a.postal_code,N=function(){var e=Object(Z.a)(H.a.mark((function e(t){var a,n,r,c,o,s;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,console.log(t),n=function(){return!!He.isEmpty(g)&&(i(qa({},m,{stand_error:"stand field cannot be empty"})),!0)},r=function(){return!!He.isEmpty(E)&&(i(qa({},m,{street_name_error:"street name field cannot be empty"})),!0)},c=function(){return!!He.isEmpty(v)&&(i(qa({},m,{city_error:"city field cannot be empty"})),!0)},o=function(){return!1===He.isProvince(h)&&(i(qa({},m,{province_error:"please select a province"})),!0)},s=function(){return!!He.isEmpty(_)&&(i(qa({},m,{postal_code_error:"postal code field cannot be empty"})),!0)},e.next=9,n();case 9:if(!e.sent){e.next=11;break}a=!0;case 11:return e.next=13,r();case 13:if(!e.sent){e.next=15;break}a=!0;case 15:return e.next=17,c();case 17:if(!e.sent){e.next=19;break}a=!0;case 19:return e.next=21,o();case 21:if(!e.sent){e.next=23;break}a=!0;case 23:return e.next=25,s();case 25:if(!e.sent){e.next=27;break}a=!0;case 27:return e.abrupt("return",a);case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(Z.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.post(n.loan_physical_address_api_url,JSON.stringify(a)).then((function(e){if(200===e.status)return e.data;throw new Error("There was an error saving physical address")})).then((function(e){r({physical_address:e}),b({message:"Successfully saved client physical address"})})).catch((function(e){console.log(e),b({message:e.message,message_type:"error"})}));case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0),b({message:e.t0.message,message_type:"error"});case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(s.Fragment,null,l.a.createElement("form",{className:"form-horizontal"},l.a.createElement("div",{className:"box box-footer"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-building"}," ")," Physical Address"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"stand",placeholder:"House/Stand Number",value:g,onChange:function(e){return d(e)}}),m.stand_error?l.a.createElement(Et,{message:m.stand_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"street_name",placeholder:"Street Name",value:E,onChange:function(e){return d(e)}}),m.street_name_error?l.a.createElement(Et,{message:m.street_name_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"city",placeholder:"City/Town",value:v,onChange:function(e){return d(e)}}),m.city_error?l.a.createElement(Et,{message:m.city_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("select",{className:"form-control",name:"province",value:h,onChange:function(e){return d(e)}},l.a.createElement("option",{value:"limpopo"},"Limpopo"),l.a.createElement("option",{value:"gauteng"},"Gauteng"),l.a.createElement("option",{value:"northwest"},"North West"),l.a.createElement("option",{value:"mpumalanga"},"Mpumalanga"),l.a.createElement("option",{value:"kzn"},"KZN"),l.a.createElement("option",{value:"easterncape"},"Eastern Cape"),l.a.createElement("option",{value:"westerncape"},"Western Cape"),l.a.createElement("option",{value:"northerncape"},"Northern Cape"),l.a.createElement("option",{value:"freestate"},"Free State")),m.province_error?l.a.createElement(Et,{message:m.province_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"country",placeholder:"Country",value:y,onChange:function(e){return d(e)}}),m.country_error?l.a.createElement(Et,{message:m.country_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"postal_code",placeholder:"Postal Code",value:_,onChange:function(e){return d(e)}}),m.postal_code_error?l.a.createElement(Et,{message:m.postal_code_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"button",className:"btn btn-success btn-lg",name:"save",onClick:function(e){N().then((function(t){if(t)throw new Error("there was an error processing form");O(e)})).catch((function(e){console.log(e),b({message:e.message,message_type:"error"})}))}},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-save"}," ")," "," ","Save")),l.a.createElement("button",{type:"button",className:"btn btn-warning btn-lg",name:"reset",onClick:function(){b({message:"",message_type:"INFO"}),i(La),r(Aa)}},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-eraser"}," ")," "," Reset"))),l.a.createElement("div",{className:"form-group"},p.message?l.a.createElement(Ct,{message:p.message,message_type:p.message_type}):""))))},Ka=function(){var e=Object(s.useState)(Ra),t=Object(dt.a)(e,2),a=t[0],r=t[1],c=(a.uid,a.box),o=a.city,m=a.province,i=a.country,u=a.postal_code,f=Object(s.useState)(Ta),p=Object(dt.a)(f,2),b=p[0],d=p[1],g=Object(s.useState)({message:"",message_type:"INFO"}),E=Object(dt.a)(g,2),v=E[0],h=E[1],y=function(e){r(qa({},a,Object(ye.a)({},e.target.name,e.target.value)))},_=function(){var e=Object(Z.a)(H.a.mark((function e(t){var a,n,r,s,l,f;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,n=function(){return!!He.isEmpty(c)&&(d(qa({},b,{box_error:"Box number field cannot be empty"})),!0)},r=function(){return!!He.isEmpty(o)&&(d(qa({},b,{city_error:"City field cannot be empty"})),!0)},s=function(){return!1===He.isProvince(m)&&(d(qa({},b,{province_error:"please select a province"})),!0)},l=function(){return!!He.isEmpty(i)&&(d(qa({},b,{country_error:"Country field cannot be empty"})),!0)},f=function(){return!!He.isEmpty(u)&&(d(qa({},b,{postal_code_error:"Postal code cannot be empty"})),!0)},e.next=8,n();case 8:if(!e.sent){e.next=10;break}a=!0;case 10:return e.next=12,r();case 12:if(!e.sent){e.next=14;break}a=!0;case 14:return e.next=16,s();case 16:if(!e.sent){e.next=18;break}a=!0;case 18:return e.next=20,l();case 20:if(!e.sent){e.next=22;break}a=!0;case 22:return e.next=24,f();case 24:if(!e.sent){e.next=26;break}a=!0;case 26:return e.abrupt("return",a);case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(Z.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.post(n.loan_postal_address_api_url,JSON.stringify(a)).then((function(e){if(200===e.status)return e.data;throw new Error("error saving postal address")})).then((function(e){r(qa({},e,Object(ye.a)({},t.target.name,t.target.value))),h({message:"successfully saved postal address"})})).catch((function(e){console.log(e),h({message:e.message,message_type:"error"})}));case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0),h({message:e.t0.message,message_type:"error"});case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(s.Fragment,null,l.a.createElement("form",{className:"form-horizontal"},l.a.createElement("div",{className:"box box-footer"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-envelope"}," ")," Postal Address"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"box",placeholder:"Box",onChange:function(e){return y(e)},value:c}),b.box_error?l.a.createElement(Et,{message:b.box_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"city",placeholder:"City/Town",onChange:function(e){return y(e)},value:o}),b.city_error?l.a.createElement(Et,{message:b.city_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("select",{className:"form-control",name:"province",onChange:function(e){return y(e)},value:m},l.a.createElement("option",{value:"limpopo"},"Limpopo"),l.a.createElement("option",{value:"gauteng"},"Gauteng"),l.a.createElement("option",{value:"northwest"},"North West"),l.a.createElement("option",{value:"mpumalanga"},"Mpumalanga"),l.a.createElement("option",{value:"kzn"},"KZN"),l.a.createElement("option",{value:"easterncape"},"Eastern Cape"),l.a.createElement("option",{value:"westerncape"},"Western Cape"),l.a.createElement("option",{value:"northerncape"},"Northern Cape"),l.a.createElement("option",{value:"freestate"},"Free State")),b.province_error?l.a.createElement(Et,{message:b.province_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"country",placeholder:"Country",onChange:function(e){return y(e)},value:i}),b.country_error?l.a.createElement(Et,{message:b.country_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"postal_code",placeholder:"Postal Code",onChange:function(e){return y(e)},value:u}),b.postal_code_error?l.a.createElement(Et,{message:b.postal_code_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"button",className:"btn btn-success btn-lg",onClick:function(e){_(e).then((function(t){if(t)throw new Error("there where errors processing form");N(e)})).catch((function(e){console.log(e),h({message:e.message,message_type:"error"})}))}},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-save"}," ")," "," Save")),l.a.createElement("button",{type:"button",className:"btn btn-warning btn-lg",onClick:function(){r(Ra),d(Ta),h({message:"",message_type:"INFO"})}},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-eraser"}," ")," "," ","Reset"))),l.a.createElement("div",{className:"form-group"},v.message?l.a.createElement(Ct,{message:v.message,message_type:v.message_type}):""))))},Ga=function(){var e=Object(s.useState)(Ua),t=Object(dt.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)(za),o=Object(dt.a)(c,2),m=o[0],i=o[1],u=Object(s.useState)({message:"",message_type:"INFO"}),f=Object(dt.a)(u,2),p=f[0],b=f[1],d=(a.uid,a.tel),g=a.cell,E=a.email,v=function(e){r(qa({},a,Object(ye.a)({},e.target.name,e.target.value)))},h=function(){var e=Object(Z.a)(H.a.mark((function e(t){var a,n,r,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),a=!1,n=function(){return!1===He.isTel(d)&&(i(qa({},m,{tel_error:"Telephone number is invalid"})),!0)},r=function(){return!1===He.isCell(g)&&(i(qa({},m,{cell_error:"Cell number is invalid"})),!0)},c=function(){return!1===He.validateEmail(E)&&(i(qa({},m,{email_error:"Email is invalid"})),!0)},e.next=7,n();case 7:if(!e.sent){e.next=9;break}a=!0;case 9:return e.next=11,r();case 11:if(!e.sent){e.next=13;break}a=!0;case 13:return e.next=15,c();case 15:if(!e.sent){e.next=17;break}a=!0;case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(Z.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.post(n.loan_contact_details_api_url,JSON.stringify(a)).then((function(e){if(200===e.status)return e.data;throw new Error("There where errors saving contact details")})).then((function(e){r({contact_details:e}),b({message:"Successfully saved contact details"})})).catch((function(e){console.log(e.message),b({message:e.message,message_type:"error"})}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),b({message:e.t0.response.data,message_type:"error"});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(s.Fragment,null,l.a.createElement("form",{className:"form-horizontal"},l.a.createElement("div",{className:"box box-footer"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-mobile-phone"}," ")," Contact Details"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"tel",placeholder:"Tel",value:d,onChange:function(e){return v(e)}}),m.tel_error?l.a.createElement(Et,{message:m.tel_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"cell",placeholder:"Cell",value:g,onChange:function(e){return v(e)}}),m.cell_error?l.a.createElement(Et,{message:m.cell_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"email",placeholder:"Email",value:E,onChange:function(e){return v(e)}}),m.email_error?l.a.createElement(Et,{message:m.email_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"button",className:"btn btn-success btn-lg",name:"save",onClick:function(e){return h(e).then((function(t){if(t)throw new Error("there where errors processing form");y(e).then((function(e){})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e),b({message:e.message,message_type:"error"})}))}},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-save"}," ")," Save")),l.a.createElement("button",{type:"button",className:"btn btn-warning btn-lg",name:"reset",onClick:function(){b({message:"",message_type:"INFO"}),i(za),r(Ua)}},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-eraser"}," ")," Reset"))),l.a.createElement("div",{className:"form-group"},p.message?l.a.createElement(Ct,{message:p.message,message_type:p.message_type}):""))))},Ha=function(){var e=Object(s.useState)(Ma),t=Object(dt.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)(Ba),o=Object(dt.a)(c,2),m=o[0],i=o[1],u=Object(s.useState)({message:"",message_type:"INFO"}),f=Object(dt.a)(u,2),p=f[0],b=f[1],d=(a.uid,a.names),g=a.address,E=a.cell,v=function(e){r(qa({},a,Object(ye.a)({},e.target.name,e.target.value)))},h=function(){var e=Object(Z.a)(H.a.mark((function e(){var t,a,n,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!1,a=function(){return!!He.isEmpty(d)&&(i(qa({},m,{names_error:"Names field cannot be empty"})),!0)},n=function(){return!!He.isEmpty(g)&&(i(qa({},m,{address_error:"Address field cannot be empty"})),!0)},r=function(){return!1===He.isCell(E)&&(i(qa({},m,{cell_error:"Cell number field is invalid"})),!0)},e.next=6,a();case 6:if(!e.sent){e.next=8;break}t=!0;case 8:return e.next=10,n();case 10:if(!e.sent){e.next=12;break}t=!0;case 12:return e.next=14,r();case 14:if(!e.sent){e.next=16;break}t=!0;case 16:return e.abrupt("return",t);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(Z.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.post(n.loan_nextofkin_api_url,JSON.stringify(a)).then((function(e){if(200===e.status)return e.data;throw new Error("there was an error processing form")})).then((function(e){r({nextofkin:e}),b({message:"Successfully saved next of kin",message_type:"INFO"})})).catch((function(e){console.log(e),b({message:e.message,message_type:"error"})}));case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0),b({message:e.t0.message,message_type:"error"});case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return l.a.createElement(s.Fragment,null,l.a.createElement("form",{className:"form-horizontal"},l.a.createElement("div",{className:"box box-footer"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-user"})," ","Next of Kin"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"names",placeholder:"Names",value:d,onChange:function(e){return v(e)}}),m.names_error?l.a.createElement(Et,{message:m.names_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("textarea",{type:"text",className:"form-control",name:"address",placeholder:"address",value:g,onChange:function(e){return v(e)}}),m.address_error?l.a.createElement(Et,{message:m.address_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"cell",placeholder:"cell",value:E,onChange:function(e){return v(e)}}),m.cell_error?l.a.createElement(Et,{message:m.cell_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"button",className:"btn btn-success btn-lg",name:"save",onClick:function(e){return h(e).then((function(t){if(t)throw new Error("there was an error processing form");y(e)})).catch((function(e){console.log(e.message),b({message:e.message,message_type:"error"})}))}},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-save"}," ")," "," ","Save")),l.a.createElement("button",{type:"button",className:"btn btn-warning btn-lg",name:"reset",onClick:function(){b({message:"",message_type:"INFO"}),i(Ba),r(Ma)}},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-eraser"}," ")," "," ","Reset"))),l.a.createElement("div",{className:"form-group"},p.message?l.a.createElement(Ct,{message:p.message,message_type:p.message_type}):""))))},Za=function(){var e=Object(s.useState)("personal-details"),t=Object(dt.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)({menu:!1}),c=Object(dt.a)(r,2),o=c[0],m=c[1],i=function e(){m({menu:!1}),document.removeEventListener("click",e)};return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-footer"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("strong",null," ",l.a.createElement("i",{className:"fa fa-user"}," ")," Applicant Details")),l.a.createElement("div",{className:"box-tools"},l.a.createElement("div",{className:"dropdown"},l.a.createElement("button",{type:"button",className:"btn btn-box-tool dropdown",onClick:function(e){return function(e){e.preventDefault(),m({menu:!0}),document.addEventListener("click",i)}(e)}},l.a.createElement("i",{className:"fa fa-bars"}," ")," "),o.menu?l.a.createElement("ul",{className:"dropmenu"},l.a.createElement("li",{className:"btn btn-block droplink",name:"personal-details",onClick:function(e){return n("personal-details")}},l.a.createElement("i",{className:"fa fa-user"}," ")," Personal Details"),l.a.createElement("li",{className:"btn btn-block droplink",name:"physical-address",onClick:function(e){return n("physical-address")}},l.a.createElement("i",{className:"fa fa-building"}," ")," Physical Address"),l.a.createElement("li",{className:"btn btn-block droplink",name:"postal-address",onClick:function(e){return n("postal-address")}},l.a.createElement("i",{className:"fa fa-envelope"}," ")," Postal Address"),l.a.createElement("li",{className:"btn btn-block droplink",name:"contact-details",onClick:function(e){return n("contact-details")}},l.a.createElement("i",{className:"fa fa-mobile-phone"}," ")," Contact Details"),l.a.createElement("li",{className:"btn btn-block droplink",name:"nextofkin",onClick:function(e){return n("nextofkin")}},l.a.createElement("i",{className:"fa fa-user"}," ")," Next of Kin")):null))),"personal-details"===a?l.a.createElement(Va,null):"","physical-address"===a?l.a.createElement(Ya,null):"","postal-address"===a?l.a.createElement(Ka,null):"","contact-details"===a?l.a.createElement(Ga,null):"","nextofkin"===a?l.a.createElement(Ha,null):""))};function $a(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Qa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$a(a,!0).forEach((function(t){Object(ye.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$a(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Xa={client_id:"",employer_name:"",employee_number:"",department:"",employee_kind:"",contract:"",date_employed:""},en={employer_name_error:"",employee_number_error:"",department_error:"",employee_kind_error:"",contract_error:"",date_employed_error:""},tn={client_id:"",stand_number:"",street_name:"",city:"",province:"",country:"",postal_code:""},an={stand_number_error:"",street_name_error:"",city_error:"",province_error:"",country_error:"",postal_code_error:""};function nn(){var e=Object(s.useState)(tn),t=Object(dt.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)(an),o=Object(dt.a)(c,2),m=o[0],i=o[1],u=Object(s.useState)({message:"",message_type:"INFO"}),f=Object(dt.a)(u,2),p=f[0],b=f[1],d=(a.client_id,a.stand_number),g=a.street_name,E=a.city,v=a.province,h=a.country,y=a.postal_code,_=function(e){r(Qa({},a,Object(ye.a)({},e.target.name,e.target.value)))},N=function(){var e=Object(Z.a)(H.a.mark((function e(t){var a,n,r,c,o,s,l;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),a=!1,n=function(){return!!He.isEmpty(d)&&(i(Qa({},m,{stand_number_error:"stand number field cannot be empty"})),!0)},r=function(){return!!He.isEmpty(g)&&(i(Qa({},m,{street_name_error:"street name field cannot be empty"})),!0)},c=function(){return!!He.isEmpty(E)&&(i(Qa({},m,{city_error:"city field cannot be empty"})),!0)},o=function(){return!1===He.isProvince(v)&&(i(Qa({},m,{province_error:"please select province"})),!0)},s=function(){return!!He.isEmpty(h)&&(i(Qa({},m,{country_error:"country field cannot be empty"})),!0)},l=function(){return!!He.isEmpty(y)&&(i(Qa({},m,{postal_code_error:"postal code field cannot be empty"})),!0)},e.next=10,n();case 10:if(!e.sent){e.next=12;break}a=!0;case 12:return e.next=14,r();case 14:if(!e.sent){e.next=16;break}a=!0;case 16:return e.next=18,c();case 18:if(!e.sent){e.next=20;break}a=!0;case 20:return e.next=22,o();case 22:if(!e.sent){e.next=24;break}a=!0;case 24:return e.next=26,s();case 26:if(!e.sent){e.next=28;break}a=!0;case 28:return e.next=30,l();case 30:if(!e.sent){e.next=32;break}a=!0;case 32:return e.abrupt("return",a);case 33:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(Z.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.post(n.loan_employer_address_api_url,JSON.stringify(a)).then((function(e){if(200===e.status)return e.data;throw new Error("error saving employer address")})).then((function(e){r({employer_address:e}),b({message:"successfully saved employer address"})})).catch((function(e){b({message:e.message,message_type:"error"})}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),b({message:e.t0.message,message_type:"error"});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-footer"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-building"}," ")," Employer Address"))),l.a.createElement("form",{className:"form-horizontal"},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"stand_number",placeholder:"Stand Number",onChange:function(e){return _(e)},value:d}),m.stand_number_error?l.a.createElement(Et,{message:m.stand_number_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"street_name",placeholder:"Street Name",onChange:function(e){return _(e)},value:g}),m.street_name_error?l.a.createElement(Et,{message:m.street_name_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"city",placeholder:"City",onChange:function(e){return _(e)},value:E}),m.city_error?l.a.createElement(Et,{message:m.city_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("select",{className:"form-control",name:"province",placeholder:"Province",onChange:function(e){return _(e)},value:v},l.a.createElement("option",{value:"limpopo"},"Limpopo"),l.a.createElement("option",{value:"north west"},"North West"),l.a.createElement("option",{value:"mpumalanga"},"Mpumalanga"),l.a.createElement("option",{value:"gauteng"},"Gauteng"),l.a.createElement("option",{value:"free state"},"Free State"),l.a.createElement("option",{value:"kwazulu natal"},"Kwazulu Natal"),l.a.createElement("option",{value:"eastern cape"},"Eastern Cape"),l.a.createElement("option",{value:"western cape"},"Western Cape"),l.a.createElement("option",{value:"northern cape"},"Northern Cape")),m.province_error?l.a.createElement(Et,{message:m.province_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"country",placeholder:"Country",onChange:function(e){return _(e)},value:h}),m.country_error?l.a.createElement(Et,{message:m.country_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"postal_code",placeholder:"Postal Code",onChange:function(e){return _(e)},value:y}),m.postal_code_error?l.a.createElement(Et,{message:m.postal_code_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"button",className:"btn btn-success btn-lg",name:"save",onClick:function(e){return N(e).then((function(t){if(t)throw new Error("there was an error processing form");O(e).then((function(e){}))})).catch((function(e){b({message:e.message,message_type:"error"})}))}},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-save"}," ")," Save")),l.a.createElement("button",{type:"button",className:"btn btn-warning btn-lg",name:"reset",onClick:function(){b({message:"",message_type:"INFO"}),i(an),r(an)}},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-eraser"}," ")," Reset"))),l.a.createElement("div",{className:"form-group"},p.message?l.a.createElement(Ct,{message:p.message,message_type:p.message_type}):""))))}function rn(){var e=Object(s.useState)(Xa),t=Object(dt.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)(en),o=Object(dt.a)(c,2),m=o[0],i=o[1],u=Object(s.useState)({message:"",message_type:"INFO"}),f=Object(dt.a)(u,2),p=f[0],b=f[1],d=(a.client_id,a.employer_name),g=a.employee_number,E=a.department,v=a.employee_kind,h=a.contract,y=a.date_employed,_=function(e){r(Qa({},a,Object(ye.a)({},e.target.name,e.target.value)))},N=function(){var e=Object(Z.a)(H.a.mark((function e(t){var a,n,r,c,o,s,l;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,n=function(){return!!He.isEmpty(d)&&(i(Qa({},m,{employer_name_error:"Employer Name field cannot be empty"})),!0)},r=function(){return!!He.isEmpty(g)&&(i(Qa({},m,{employee_number_error:"Employee Number field cannot be empty"})),!0)},c=function(){return!!He.isEmpty(E)&&(i(Qa({},m,{department_error:"Please select department"})),!0)},o=function(){return!!He.isEmpty(v)&&(i(Qa({},m,{employee_kind_error:"please select employee kind"})),!0)},s=function(){return!!He.isEmpty(h)&&(i(Qa({},m,{contract_error:"please select contract"})),!0)},l=function(){return!!He.isEmpty(y)&&(i(Qa({},m,{date_employed_error:"date employed cannot be empty"})),!0)},e.next=9,n();case 9:if(!e.sent){e.next=11;break}a=!0;case 11:return e.next=13,r();case 13:if(!e.sent){e.next=15;break}a=!0;case 15:return e.next=17,c();case 17:if(!e.sent){e.next=19;break}a=!0;case 19:return e.next=21,o();case 21:if(!e.sent){e.next=23;break}a=!0;case 23:return e.next=25,s();case 25:if(!e.sent){e.next=27;break}a=!0;case 27:return e.next=29,l();case 29:if(!e.sent){e.next=31;break}a=!0;case 31:return e.abrupt("return",a);case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(Z.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.post(n.loan_employer_details_api_url,JSON.stringify(a)).then((function(e){if(200===e.status)return e.data;throw new Error("there was an error saving employer details")})).then((function(e){r({employer_details:e}),b({message:"Successfully saved employer details"})})).catch((function(e){b({message:e.message,message_type:"error"})}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),b({message:e.t0.message,message_type:"error"});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(s.Fragment,null,l.a.createElement("form",{className:"form-horizontal"},l.a.createElement("div",{className:"box box-footer"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("strong",null," ",l.a.createElement("i",{className:"fa fa-amazon"}," ")," Employer Details"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"employer_name",value:d,onChange:function(e){return _(e)},placeholder:"Employer Name"}),m.employer_name_error?l.a.createElement(Et,{message:m.employer_name_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"employee_number",value:g,onChange:function(e){return _(e)},placeholder:"Employee Number"}),m.employee_number_error?l.a.createElement(Et,{message:m.employee_number_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"department",value:E,onChange:function(e){return _(e)},placeholder:"Department"}),m.department_error?l.a.createElement(Et,{message:m.department_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("select",{name:"employee_kind",className:"form-control",value:v,onChange:function(e){return _(e)},placeholder:"Employee Kind"},l.a.createElement("option",{value:"department"},"Government Department"),l.a.createElement("option",{value:"private"},"Private"),l.a.createElement("option",{value:"pension"},"Pension"),l.a.createElement("option",{value:"grant"},"Grant")),m.employee_kind_error?l.a.createElement(Et,{message:m.employee_kind_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("select",{name:"contract",className:"form-control",value:h,onChange:function(e){return _(e)}},l.a.createElement("option",{value:"permanent"},"Permanent"),l.a.createElement("option",{value:"temporary"},"Temporary"),l.a.createElement("option",{value:"freelance"},"Freelance"),l.a.createElement("option",{value:"agent"},"Agent")),m.contract_error?l.a.createElement(Et,{message:m.contract_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"date_employed",value:y,onChange:function(e){return _(e)},placeholder:"Date Employed"}),m.date_employed_error?l.a.createElement(Et,{message:m.date_employed_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"button",className:"btn btn-success btn-lg",name:"save",onClick:function(e){return N(e).then((function(t){if(t)throw new Error("there was an error processing form");O(e).then((function(e){}))})).catch((function(e){b({message:e.message,message_type:"error"})}))}},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-save"}," ")," Save")),l.a.createElement("button",{type:"button",className:"btn btn-warning btn-lg",name:"reset",onClick:function(){b({message:"",message_type:"INFO"}),i(en),r(Xa)}},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-eraser"}," ")," Reset"))),l.a.createElement("div",{className:"form-group"},p.message?l.a.createElement(Ct,{message:p.message,message_type:p.message_type}):""))))}function cn(){var e=Object(s.useState)("employer-details"),t=Object(dt.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)({menu:!1}),c=Object(dt.a)(r,2),o=c[0],m=c[1],i=function e(){m({menu:!1}),document.removeEventListener("click",e)};return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-amazon"}," ")," Employment Details")),l.a.createElement("div",{className:"box-tools"},l.a.createElement("div",{className:"dropdown"},l.a.createElement("button",{type:"button",className:"btn btn-box-tool dropdown",onClick:function(e){return function(e){e.preventDefault(),m({menu:!0}),document.addEventListener("click",i)}(e)}},l.a.createElement("i",{className:"fa fa-bars"}," ")," "),o.menu?l.a.createElement("ul",{className:"dropmenu"},l.a.createElement("li",{className:"btn btn-block droplink",name:"employer-details",onClick:function(){return n("employer-details")}},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-user"}," "),"Employer Details")),l.a.createElement("li",{className:"btn btn-block droplink",name:"employer-address",onClick:function(){return n("employer-address")}},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-building"}," "),"Employer Address"))):null))),"employer-details"===a?l.a.createElement(rn,null):"","employer-address"===a?l.a.createElement(nn,null):""))}function on(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function sn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?on(a,!0).forEach((function(t){Object(ye.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):on(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ln={income_after_deduction:0,overtime:0,commission:0,other_income:0,total_income:0,bond_repayments:0,loan_installments:0,electricity_telephone:0,insurance:0,maintenance:0,transport:0,basic_necessities:0,domestic_wages:0,education:0,other_expenses:0,total_expenses:0,affordable:0},mn=function(){var e=Object(s.useState)("income"),t=Object(dt.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)(ln),o=Object(dt.a)(c,2),m=o[0],i=o[1],u=Object(s.useState)({total_income_error:"",total_expenditure_error:"",affordability_error:""}),f=Object(dt.a)(u,2),p=f[0],b=f[1],d=Object(s.useState)({message:"",message_type:"info"}),g=Object(dt.a)(d,2),E=g[0],v=g[1],h=Object(s.useState)({menu:!1}),y=Object(dt.a)(h,2),_=y[0],N=y[1],O=function e(){N({menu:!1}),document.removeEventListener("click",e)},x=m.income_after_deduction,j=m.overtime,w=m.commission,k=m.other_income,C=m.total_income,S=m.bond_repayments,P=m.loan_installments,D=m.electricity_telephone,I=m.insurance,F=m.maintenance,A=m.transport,L=m.basic_necessities,R=m.domestic_wages,T=m.education,U=m.other_expenses,z=m.total_expenses,M=m.affordable,B=function(e){i(sn({},m,Object(ye.a)({},e.target.name,parseInt(e.target.value))))},J=function(){return parseInt(x)+parseInt(j)+parseInt(w)+parseInt(k)},W=function(){return parseInt(S)+parseInt(P)+parseInt(D)+parseInt(I)+parseInt(F)+parseInt(A)+parseInt(L)+parseInt(R)+parseInt(T)+parseInt(U)},q=function(){var e=Object(Z.a)(H.a.mark((function e(t){var a,n,r,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=!1,n=function(){return!He.isNumber(C)&&(b(sn({},p,{total_income_error:"please calculate total income"})),!0)},r=function(){return!He.isNumber(z)&&(b(sn({},p,{total_expenditure_error:"please calculate total expenses"})),!0)},c=function(){return(!He.isNumber(M)||M<=0)&&(b(sn({},p,{affordability_error:"please calculate affordability"})),!0)},e.next=7,n();case 7:if(!e.sent){e.next=9;break}a=!0;case 9:return e.next=11,r();case 11:if(!e.sent){e.next=13;break}a=!0;case 13:return e.next=15,c();case 15:if(!e.sent){e.next=17;break}a=!0;case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(Z.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q.a.post(n.loan_affordability_api_url,"&data="+JSON.stringify(m)).then((function(e){if(200===e.status)return e.data;throw new Error("there was an error saving affordability file")})).then((function(e){return i({affordability:e}),v({message:"successfully saved affordability",message_type:"error"}),!0})).catch((function(e){return v({message:e.message,message_type:"error"}),!1}));case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),v({message:e.t0.message,message_type:"error"}),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-money"}," ")," Income & Expenditure")),l.a.createElement("div",{className:"box-tools"},l.a.createElement("div",{className:"dropdown"},l.a.createElement("button",{type:"button",className:"btn btn-box-tool dropdown",onClick:function(e){return function(e){e.preventDefault(),N({menu:!0}),document.addEventListener("click",O)}(e)}},l.a.createElement("i",{className:"fa fa-bars"}," ")," "),_.menu?l.a.createElement("ul",{className:"dropmenu"},l.a.createElement("li",{className:"btn btn-block droplink",name:"income",onClick:function(e){return r("income")}},l.a.createElement("i",{className:"fa fa-dollar"}," ")," Income"),l.a.createElement("li",{className:"btn btn-block droplink",name:"expenditure",onClick:function(e){return r("expenditure")}},l.a.createElement("i",{className:"fa fa-dollar"}," ")," Expenditure"),l.a.createElement("li",{className:"btn btn-block droplink",name:"affordability",onClick:function(e){return r("affordability")}},l.a.createElement("i",{className:"fa fa-money"}," ")," Affordability")):null))),"income"===a?l.a.createElement("div",{className:"box box-footer"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("i",{className:"fa fa-dollar"}," ")," Income")),l.a.createElement("form",{className:"form-horizontal"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-3 control-label pull-left"}," ","Income after deductions"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("input",{type:"text",className:"form-control",name:"income_after_deduction",placeholder:"Income After Deduction...",value:m.income_after_deduction,onChange:function(e){return B(e)}}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-3 control-label pull-left"}," ","Overtime"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("input",{type:"text",className:"form-control",name:"overtime",placeholder:"Overtime...",value:m.overtime,onChange:function(e){return B(e)}}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-3 control-label pull-left"}," ","Commissions"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("input",{type:"text",className:"form-control",name:"commission",placeholder:"Commission...",value:m.commission,onChange:function(e){return B(e)}}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-3 control-label pull-left"},"Other Income"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("input",{type:"text",className:"form-control",name:"other_income",placeholder:"Other Income...",value:m.other_income,onChange:function(e){return B(e)}}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-3 control-label pull-left"}," ","Total Income"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("input",{type:"text",className:"form-control",name:"total_income",placeholder:"Total Income...",value:m.total_income,onChange:function(e){return B(e)}}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("button",{type:"button",className:"btn btn-success btn-lg",name:"total",onClick:function(e){i(sn({},m,{total_income:J()}))}},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-calculator"}," ")," Calculate Total Income")))))):"","expenditure"===a?l.a.createElement("div",{className:"box box-footer"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("i",{className:"fa fa-dollar"}," "),"Costs"," ")),l.a.createElement("form",{className:"form-horizontal"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-3 control-label pull-left"},"Bond Repayments"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("input",{type:"text",className:"form-control",name:"bond_repayments",placeholder:"Bond Repayments...",value:m.bond_repayments,onChange:function(e){return B(e)}}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-3 control-label pull-left"}," ","Loan Installments"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("input",{type:"text",className:"form-control",name:"loan_installments",placeholder:"Loan Installments...",value:m.loan_installments,onChange:function(e){return B(e)}}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-3 control-label pull-left"},"Electricity"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("input",{type:"text",className:"form-control",name:"electricity_telephone",placeholder:"Electricity & Telephone...",value:m.electricity_telephone,onChange:function(e){return B(e)}}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-3 control-label pull-left"},"Insurance"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("input",{type:"text",className:"form-control",name:"insurance",placeholder:"Insurance...",value:m.insurance,onChange:function(e){return B(e)}}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-3 control-label pull-left"},"Maintenance"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("input",{type:"text",className:"form-control",name:"maintenance",placeholder:"Maintenance...",value:m.maintenance,onChange:function(e){return B(e)}}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-3 control-label pull-left"},"Transport"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("input",{type:"text",className:"form-control",name:"transport",placeholder:"Transport...",value:m.transport,onChange:function(e){return B(e)}}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-3 control-label pull-left"},"Basic Neccessities"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("input",{type:"text",className:"form-control",name:"basic_necessities",placeholder:"Basic Neccessities...",value:m.basic_necessities,onChange:function(e){return B(e)}}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-3 control-label pull-left"},"Domestic Wages"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("input",{type:"text",className:"form-control",name:"domestic_wages",placeholder:"Domestic Wages...",value:m.domestic_wages,onChange:function(e){return B(e)}}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-3 control-label pull-left"},"Education"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("input",{type:"text",className:"form-control",name:"education",placeholder:"Education...",value:m.education,onChange:function(e){return B(e)}}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-3 control-label pull-left"},"Other Expenses"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("input",{type:"text",className:"form-control",name:"other_expenses",placeholder:"Other Expenses...",value:m.other_expenses,onChange:function(e){return B(e)}}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-3 control-label pull-left"},"Total Expenses"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("input",{type:"text",className:"form-control",name:"total_expenses",placeholder:"Total Expenses...",value:m.total_expenses,onChange:function(e){return B(e)}}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("button",{type:"button",className:"btn btn-success btn-lg",name:"totalExpenditure",onClick:function(e){i(sn({},m,{total_expenses:W()}))}},l.a.createElement("i",{className:"fa fa-calculator"}," "),"Total Expenditure"))))):"","affordability"===a?l.a.createElement("div",{className:"box box-footer"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("i",{className:"fa fa-money"}," ")," Affordability"," ")),l.a.createElement("form",{className:"form-horizontal"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-3 control-label pull-left"},"Affordability"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("input",{type:"text",className:"form-control",name:"affordable",placeholder:"Affordability...",value:m.affordable,onChange:function(e){return B(e)}}))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("button",{type:"button",className:"btn btn-warning btn-lg",name:"calculate_affordability",onClick:function(e){i(sn({},m,{total_expenses:W(),total_income:J(),affordable:J()-W()}))}},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-calculator"}," ")," Calculate Affordability")),l.a.createElement("button",{type:"button",className:"btn btn-primary btn-lg",name:"save-affordability",onClick:function(e){return q(e).then((function(t){if(t)throw new Error("Error saving affordability please calculate all the required values");V(e).then((function(e){}))})).catch((function(e){v({message:e.message,message_type:"error"})}))}},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-save"}," ")," Save Affordability")))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"col-sm-9"},E.message?l.a.createElement(Ct,{message:E.message,message_type:E.message_type}):"")))):""))},un=function(){var e=Object(s.useState)({}),t=Object(dt.a)(e,2),a=(t[0],t[1],Object(s.useState)({})),n=Object(dt.a)(a,2);n[0],n[1];return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-info"},l.a.createElement("div",{className:"box box-title"},l.a.createElement("h3",null,"Credit Provider Details")),l.a.createElement("div",{className:"box box-comments"},l.a.createElement("ul",{className:"box box-comment"},l.a.createElement("li",{className:"list-group-item"},l.a.createElement("h4",null,"Name of Credit Provider")),l.a.createElement("li",{className:"list-group-item"},"MIDEY FINANCIAL SOLUTIONS"),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("h4",null,"Physical Address")),l.a.createElement("li",{className:"list-group-item"},"Mashapa Complex"),l.a.createElement("li",{className:"list-group-item"},"1st Floor, Office No. B12 & 14"),l.a.createElement("li",{className:"list-group-item"},"Thohoyandou"),l.a.createElement("li",{className:"list-group-item"},"0950"),l.a.createElement("li",{className:"list-group-item"},"Tel : 015 962 0976"),l.a.createElement("li",{className:"list-group-item"},"NCR Registration : NCRCP5905"),l.a.createElement("li",{className:"list-group-item"},"Company Reg: 2007/036777/23"),l.a.createElement("li",{className:"list-group-item"},"Date: ",Ge()().format("YYYY MM DD")),l.a.createElement("li",{className:"list-group-item"},l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("button",{type:"button",className:"btn btn-facebook btn-block",id:"SaveCreditProviderButt"},l.a.createElement("i",{className:"fa fa-save"}," ")," Save"))))))))};function fn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function pn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?fn(a,!0).forEach((function(t){Object(ye.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var bn={credit_advanced_capital:"",initiation_fee:"",monthly_service_fee:"",monthly_interest_rate:"",freequency:"",number_installments:"",loan_terms:"",amount_advanced_to_client:"",monthly_installments:"",total_installments:"",installments_paid:!1,out_standing:!1,account_change:!1},dn={credit_advanced_capital_error:"",initiation_fee_error:"",monthly_service_fee_error:"",monthly_interest_rate_error:"",freequency_error:"",number_installments_error:"",loan_terms_error:"",amount_advanced_to_client_error:"",monthly_installments_error:"",total_installments_error:""};function gn(){var e=Object(s.useState)(bn),t=Object(dt.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)(dn),o=Object(dt.a)(c,2),m=o[0],i=o[1],u=Object(s.useState)({message:"",message_type:"info"}),f=Object(dt.a)(u,2),p=f[0],b=f[1],d=function(){var e=Object(Z.a)(H.a.mark((function e(t){var n,r,c,o,s,l,u,f,p,b,d;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=!1,r=function(){return!!He.isEmpty(a.credit_advanced_capital)&&(i(pn({},m,{credit_advanced_capital_error:"credit advanced capital error please calculate affordability"})),!0)},c=function(){return!!He.isEmpty(a.initiation_fee)&&(i(pn({},m,{initiation_fee_error:"please select initiation fee"})),!0)},o=function(){return!!He.isEmpty(a.monthly_service_fee)&&(i(pn({},m,{monthly_service_fee_error:"please select monthly service fee"})),!0)},s=function(){return!!He.isEmpty(a.monthly_interest_rate)&&(i(pn({},m,{monthly_interest_rate_error:"please select monthly interest rate"})),!0)},l=function(){return!!He.isEmpty(a.freequency)&&(i(pn({},m,{freequency_error:"please select freequency"})),!0)},u=function(){return!!He.isEmpty(a.number_installments)&&(i(pn({},m,{number_installments_error:"please select number of installments"})),!0)},f=function(){return!!He.isEmpty(a.loan_terms)&&(i(pn({},m,{loan_terms_error:"please select loan terms"})),!0)},p=function(){return!!He.isEmpty(a.amount_advanced_to_client)&&(i(pn({},m,{amount_advanced_to_client_error:"amount advanced to client field cannot be empty"})),!0)},b=function(){return!!He.isEmpty(a.monthly_installments)&&(i(pn({},m,{monthly_installments_error:"monthly installments field cannot be empty"})),!0)},d=function(){return!!He.isEmpty(a.total_installments)&&(i(pn({},m,{total_installments_error:"total installments field cannot be empty"})),!0)},e.next=14,r();case 14:if(!e.sent){e.next=16;break}n=!0;case 16:return e.next=18,c();case 18:if(!e.sent){e.next=20;break}n=!0;case 20:return e.next=22,o();case 22:if(!e.sent){e.next=24;break}n=!0;case 24:return e.next=26,s();case 26:if(!e.sent){e.next=28;break}n=!0;case 28:return e.next=30,l();case 30:if(!e.sent){e.next=32;break}n=!0;case 32:return e.next=34,u();case 34:if(!e.sent){e.next=36;break}n=!0;case 36:return e.next=38,f();case 38:if(!e.sent){e.next=40;break}n=!0;case 40:return e.next=42,p();case 42:if(!e.sent){e.next=44;break}n=!0;case 44:return e.next=46,b();case 46:if(!e.sent){e.next=48;break}n=!0;case 48:return e.next=50,d();case 50:if(!e.sent){e.next=52;break}n=!0;case 52:return e.abrupt("return",n);case 53:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(Z.a)(H.a.mark((function e(t){var n,c,o,s,l;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=parseInt(a.initiation_fee)/100*parseInt(a.credit_advanced_capital),c=parseInt(a.credit_advanced_capital)+parseInt(n)+parseInt(a.monthly_service_fee),o=parseInt(c)+parseInt(a.monthly_interest_rate/100*c),s=Math.round(parseInt(o)/parseInt(a.number_installments)),l=s*parseInt(a.number_installments),r(pn({},a,{amount_advanced_to_client:c,monthly_installments:s,total_installments:l}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(Z.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Q.a.post(n.loan_advanced_amount_api_url,"&data="+JSON.stringify(a)).then((function(e){if(200===e.status)return e.data;throw new Error("there was an error creating advanced amount")})).then((function(e){return r(e),b({message:"successfully created advanced amount",message_type:"info"}),!1})).catch((function(e){return b({message:e.message,message_type:"error"}),!0}));case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(1),b({message:e.t0.message,message_type:"error"}),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-money-bill"}," ")," Advanced Amount"))),l.a.createElement("form",{className:"form-horizontal",action:"",method:"post",onSubmit:function(e){return d(e).then((function(t){if(t)throw new Error("there was an error processing advanced amount");E(e).then((function(e){console.log(e)}))})).catch((function(e){b({message:e.message,message_type:"error"})}))}},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-3 control-label pull-left"}," ","Credit Advanced Capital"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("input",{type:"text",className:"form-control",name:"credit_advanced_capital",value:a.credit_advanced_capital,onChange:function(e){return r(pn({},a,Object(ye.a)({},e.target.name,e.target.value)))}}),m.credit_advanced_capital_error?l.a.createElement(Et,{message:m.credit_advanced_capital_error}):"")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-3 control-label pull-left"}," ","Initiation Fee"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("select",{className:"form-control",name:"initiation_fee",value:a.initiation_fee,onChange:function(e){return r(pn({},a,Object(ye.a)({},e.target.name,e.target.value)))}},l.a.createElement("option",{value:8}," 8% "),l.a.createElement("option",{value:9}," 9% "),l.a.createElement("option",{value:10}," 10% "),l.a.createElement("option",{value:11}," 11% "),l.a.createElement("option",{value:12}," 12% "),l.a.createElement("option",{value:13}," 13% "),l.a.createElement("option",{value:14}," 14% "),l.a.createElement("option",{value:15}," 15% ")),m.initiation_fee_error?l.a.createElement(Et,{message:m.initiation_fee_error}):"")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-3 control-label pull-left"},"Monthly Service Fee"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("select",{name:"monthly_service_fee",className:"form-control",value:a.monthly_service_fee,onChange:function(e){return r(pn({},a,Object(ye.a)({},e.target.name,e.target.value)))}},l.a.createElement("option",{value:30},"R 30.00"),l.a.createElement("option",{value:40},"R 40.00"),l.a.createElement("option",{value:50},"R 50.00"),l.a.createElement("option",{value:60},"R 60.00"),l.a.createElement("option",{value:70},"R 70.00"),l.a.createElement("option",{value:80,selected:!0},"R 80.00")),m.monthly_service_fee_error?l.a.createElement(Et,{message:m.monthly_service_fee_error}):"")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-3 control-label pull-left",title:""},"Monthly Interest"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("select",{name:"monthly_interest_rate",className:"form-control",value:a.monthly_interest_rate,onChange:function(e){return r(pn({},a,Object(ye.a)({},e.target.name,e.target.value)))}},l.a.createElement("option",{value:5}," 5% "),l.a.createElement("option",{value:6}," 6% "),l.a.createElement("option",{value:7}," 7% "),l.a.createElement("option",{value:8}," 8% "),l.a.createElement("option",{value:9}," 9% "),l.a.createElement("option",{value:10}," 10% "),l.a.createElement("option",{value:11}," 11% "),l.a.createElement("option",{value:12}," 12% "),l.a.createElement("option",{value:13}," 13% "),l.a.createElement("option",{value:14}," 14% "),l.a.createElement("option",{value:15}," 15% "),l.a.createElement("option",{value:16}," 16% "),l.a.createElement("option",{value:17}," 17% "),l.a.createElement("option",{value:18}," 18% "),l.a.createElement("option",{value:19}," 19% "),l.a.createElement("option",{value:20}," 20% ")),m.monthly_interest_rate_error?l.a.createElement(Et,{message:m.monthly_interest_rate_error}):"")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-3 control-label pull-left",title:""}," ","Freequency"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("select",{name:"freequency",className:"form-control",value:a.freequency,onChange:function(e){return r(pn({},a,Object(ye.a)({},e.target.name,e.target.value)))}},l.a.createElement("option",{value:"weekly"}," Weekly "),l.a.createElement("option",{value:"monthly",selected:!0}," Monthly "),l.a.createElement("option",{value:"yearly"}," Yearly ")),m.freequency_error?l.a.createElement(Et,{message:m.freequency_error}):"")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-3 control-label pull-left"}," ","Number Installments"," "),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("select",{className:"form-control",name:"number_installments",value:a.number_installments,onChange:function(e){return r(pn({},a,Object(ye.a)({},e.target.name,e.target.value)))}},l.a.createElement("option",{value:"1",selected:!0},"1"),l.a.createElement("option",{value:"2"},"2"),l.a.createElement("option",{value:"3"},"3"),l.a.createElement("option",{value:"4"},"4"),l.a.createElement("option",{value:"5"},"5 "),l.a.createElement("option",{value:"6"},"6 ")),m.number_installments_error?l.a.createElement(Et,{message:m.number_installments_error}):"")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-3 control-label pull-left"},"Loan Term"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("select",{className:"form-control",name:"loan_terms",value:a.loan_terms,onChange:function(e){return r(pn({},a,Object(ye.a)({},e.target.name,e.target.value)))}},l.a.createElement("option",{value:"long"},"Long Term"),l.a.createElement("option",{value:"short",selected:!0},"Short Term")),m.loan_terms_error?l.a.createElement(Et,{message:m.loan_terms_error}):"")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-3 control-label pull-left"},"Amount Advanced to Client"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("input",{type:"text",className:"form-control",value:a.amount_advanced_to_client,onChange:function(e){return r(pn({},a,Object(ye.a)({},e.target.name,e.target.value)))}}),m.amount_advanced_to_client_error?l.a.createElement(Et,{message:m.amount_advanced_to_client_error}):"")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-3 control-label pull-left",title:"Calculated Value"},"Monthly Installments"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("input",{type:"text",className:"form-control",name:"monthly_installments",value:a.monthly_installments,onChange:function(e){return r(pn({},a,Object(ye.a)({},e.target.name,e.target.value)))}}),m.monthly_installments_error?l.a.createElement(Et,{message:m.monthly_installments_error}):"")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-3 control-label pull-left",title:"Calculated Value"},"Total Installments"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("input",{type:"text",className:"form-control",name:"total_installments",value:a.total_installments,onChange:function(e){return r(pn({},a,Object(ye.a)({},e.target.name,e.target.value)))}}),m.total_installments_error?l.a.createElement(Et,{message:m.total_installments_error}):"")),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("button",{type:"button",className:"btn btn-bitbucket btn-lg  margin-right",onClick:function(e){return g(e)}},l.a.createElement("i",{className:"fa  fa-calculator"}," ")," Calculate"," "))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("button",{type:"button",className:"btn btn-success btn-lg margin-left",onClick:function(e){return d(e).then((function(t){if(t)throw new Error("there was an error processing advanced amount");E(e).then((function(e){console.log(e)}))})).catch((function(e){b({message:e.message,message_type:"error"})}))}},l.a.createElement("i",{className:"fa fa-save"})," Save Advanced Amount"),l.a.createElement("button",{type:"button",className:"btn btn-warning btn-lg margin-left",onClick:function(e){r(bn),i(dn),b({message:"",message_type:"info"})}},l.a.createElement("i",{className:"fa fa-save"})," Reset"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"col-sm-9"},p.message?l.a.createElement(Ct,{message:p.message,message_type:p.message_type}):"")))))}function En(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function vn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?En(a,!0).forEach((function(t){Object(ye.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):En(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var hn={bank_name:"",account_holder:"",account_number:"",account_type:"",branch_code:"",branch_name:"",commencement_date:"",notes:""},yn={bank_name_error:"",account_holder_error:"",account_number_error:"",account_type_error:"",branch_code_error:"",branch_name_error:"",commencement_date_error:"",notes_error:""};function _n(){var e=Object(s.useState)(hn),t=Object(dt.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(yn),c=Object(dt.a)(r,2),o=c[0],m=c[1],i=Object(s.useState)({message:"",message_type:"info"}),u=Object(dt.a)(i,2),f=u[0],p=u[1],b=function(){var e=Object(Z.a)(H.a.mark((function e(t){var n,r,c,s,l,i,u;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,r=function(){return!!He.isEmpty(a.bank_name)&&(m(vn({},o,{bank_name_error:"please select bank name"})),!0)},c=function(){return!!He.isEmpty(a.account_holder)&&(m(vn({},o,{account_holder_error:"account holder field cannot be empty"})),!0)},s=function(){return!!He.isEmpty(a.account_number)&&(m(vn({},o,{account_number_error:"account number field cannot be empty"})),!0)},l=function(){return!!He.isEmpty(a.account_type)&&(m(vn({},o,{account_type_error:"please select account type"})),!0)},i=function(){return!!He.isEmpty(a.branch_name)&&(m(vn({},o,{branch_name_error:"branch name field cannot be empty"})),!0)},u=function(){return!!He.isEmpty(a.commencement_date)&&(m(vn({},o,{commencement_date_error:"commencement date field cannot be empty"})),!0)},e.next=9,r();case 9:if(!e.sent){e.next=11;break}n=!0;case 11:return e.next=13,c();case 13:if(!e.sent){e.next=15;break}n=!0;case 15:return e.next=17,s();case 17:if(!e.sent){e.next=19;break}n=!0;case 19:return e.next=21,l();case 21:if(!e.sent){e.next=23;break}n=!0;case 23:return e.next=25,i();case 25:if(!e.sent){e.next=27;break}n=!0;case 27:return e.next=29,u();case 29:if(!e.sent){e.next=31;break}n=!0;case 31:return e.abrupt("return",n);case 32:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(Z.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-bank"}," "),"Banking Details"))),l.a.createElement("div",{className:"box box-footer"},l.a.createElement("form",{className:"form-horizontal"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-2 control-label pull-left",title:""},"Account Holder"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("input",{type:"text",className:"form-control",name:"account_holder",placeholder:"Account Holder",value:a.account_holder,onChange:function(e){return n(vn({},a,Object(ye.a)({},e.target.name,e.target.value)))}}),o.account_holder_error?l.a.createElement(Et,{message:o.account_holder_error}):"")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-2 control-label pull-left",title:""},"Account Number"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("input",{type:"text",className:"form-control",name:"account_number",placeholder:"Bank Account Number",value:a.account_number,onChange:function(e){return n(vn({},a,Object(ye.a)({},e.target.name,e.target.value)))}}),o.account_number_error?l.a.createElement(Et,{message:o.account_number_error}):"")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-2 control-label pull-left",title:""},"Banking Institution"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("input",{type:"text",className:"form-control",name:"bank_name",placeholder:"Banking Institution",value:a.bank_name,onChange:function(e){return n(vn({},a,Object(ye.a)({},e.target.name,e.target.value)))}}),o.bank_name_error?l.a.createElement(Et,{message:o.bank_name_error}):"")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-2 control-label pull-left",title:""},"Branch Code"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("input",{type:"text",className:"form-control",name:"branch_code",placeholder:"Branch Code",value:a.branch_code,onChange:function(e){return n(vn({},a,Object(ye.a)({},e.target.name,e.target.value)))}}),o.branch_code_error?l.a.createElement(Et,{message:o.branch_code_error}):"")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-2 control-label pull-left",title:""},"Account Type"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("select",{id:"strAccountType",className:"form-control",value:a.account_type,onChange:function(e){return n(vn({},a,Object(ye.a)({},e.target.name,e.target.value)))}},l.a.createElement("option",{value:"Cheque"},"Cheque"),l.a.createElement("option",{value:"Savings"},"Savings"),l.a.createElement("option",{value:"Transmission"},"Transmission")),o.account_type_error?l.a.createElement(Et,{message:o.account_type_error}):"")),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"col-sm-2 control-label pull-left",title:"Commencement Date"},"Date"),l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("input",{type:"text",className:"form-control",name:"commencement_date",placeholder:"Commencement Date",value:a.commencement_date,onChange:function(e){return n(vn({},a,Object(ye.a)({},e.target.name,e.target.value)))}}),o.commencement_date_error?l.a.createElement(Et,{message:o.commencement_date_error}):"")),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"col-sm-9"},l.a.createElement("button",{type:"button",className:"btn btn-success btn-lg",onClick:function(e){return b(e).then((function(t){if(t)throw new Error("there was an error processing banking form");d(e).then((function(e){console.log(e)}))})).catch((function(e){p({message:e.message,message_type:"error"})}))}},l.a.createElement("i",{className:"fa fa-save"}," ")," Save Banking Details"," "),l.a.createElement("button",{type:"button",className:"btn btn-warning btn-lg",name:"reset",onClick:function(e){n(hn),m(yn),p({message:"",message_type:"info"})}},l.a.createElement("i",{className:"fa fa-eraser"}," ")," Reset"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"col-sm-9"},f.message?l.a.createElement(Ct,{message:f.message,message_type:f.message_type}):""))))))}function Nn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function On(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Nn(a,!0).forEach((function(t){Object(ye.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Nn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var xn={loaned_amount:"",date_loaned:"",payment_amount:"",balance:"",payment_date:"",active_loan:!1},jn=function(){return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("i",{className:"fa fa-info"}," ")," "," "," Instructions")),l.a.createElement("div",{className:"box box-footer"},"once you are done adding all the information related to a client, you can then try activating the client lone, and then after activation you can then print out the client's loan file so that your client can sign the documentation.")))},wn=function(){var e=Object(s.useState)(xn),t=Object(dt.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(Ia),c=Object(dt.a)(r,2),o=c[0],m=c[1];return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("i",{className:"fa fa-credit-card"}," ")," "," Activate Loan")),l.a.createElement("form",{className:"form-horizontal col-sm-4"},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"allps",placeholder:"allps Number",value:o.allps,onChange:function(e){return m(On({},o,Object(ye.a)({},e.target.name,e.target.value)))}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"payment_date",placeholder:"Repayment Date",value:a.payment_date,onChange:function(e){return n(On({},a,Object(ye.a)({},e.target.name,e.target.value)))}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"button",className:"btn btn-success margin btn-lg",name:"activate",onClick:function(e){return function(e){console.log("activating loan",e)}(e)}},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-credit-card-alt"}," ")," "," Activate Loan")),l.a.createElement("button",{type:"button",className:"btn btn-warning btn-lg",name:"reset",onClick:function(){n(On({},a,{payment_date:""})),m(On({},o,{allps:""}))}},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-eraser"}," ")," ","Reset"))))))},kn=function(){return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("i",{className:"fa fa-stackpath"}," ")," ","Create File"))))},Cn=function(){var e=Object(s.useState)("show-instructions"),t=Object(dt.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)({menu:!1}),c=Object(dt.a)(r,2),o=c[0],m=c[1],i=function e(){m({menu:!1}),document.removeEventListener("click",e)};return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-dashboard"}," ")," Admin")),l.a.createElement("div",{className:"box-tools"},l.a.createElement("div",{className:"dropdown"},l.a.createElement("button",{type:"button",className:"btn btn-box-tool dropdown",onClick:function(e){return function(e){e.preventDefault(),m({menu:!0}),document.addEventListener("click",i)}(e)}},l.a.createElement("i",{className:"fa fa-bars"}," ")," "),o.menu?l.a.createElement("ul",{className:"dropmenu"},l.a.createElement("li",{className:"btn btn-block droplink",name:"show-instructions",onClick:function(e){return n("show-instructions")}},l.a.createElement("i",{className:"fa fa-dashboard"}," ")," Admin"," "),l.a.createElement("li",{className:"btn btn-block droplink",name:"activate-loan",onClick:function(e){return n("activate-loan")}},l.a.createElement("i",{className:"fa fa-file"}," ")," Activate Loan"),l.a.createElement("li",{className:"btn btn-block droplink",name:"create-file",onClick:function(e){return n("create-file")}},l.a.createElement("i",{className:"fa fa-file"}," ")," Create File")):null)),"show-instructions"===a?l.a.createElement(jn,null):"","activate-loan"===a?l.a.createElement(wn,null):"","create-file"===a?l.a.createElement(kn,null):"")))},Sn=function(){var e=Object(s.useState)("applicant-details"),t=Object(dt.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)({menu:!1}),c=Object(dt.a)(r,2),o=c[0],m=c[1],i=function e(){m({menu:!1}),document.removeEventListener("click",e)};return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("strong",null," ",l.a.createElement("i",{className:"fa fa-dollar"}," ")," Create Loans"," ")),l.a.createElement("div",{className:"box-tools"},l.a.createElement("div",{className:"dropdown"},l.a.createElement("button",{type:"button",className:"btn btn-box-tool dropdown",onClick:function(e){return function(e){e.preventDefault(),m({menu:!0}),document.addEventListener("click",i)}(e)}},l.a.createElement("i",{className:"fa fa-bars"}," ")," "),o.menu?l.a.createElement("ul",{className:"dropmenu"},l.a.createElement("li",{className:"btn btn-block droplink",name:"applicant",onClick:function(){return n("applicant-details")}},l.a.createElement("strong",null," ",l.a.createElement("i",{className:"fa fa-user"}," ")," Applicant Details"," ")),l.a.createElement("li",{className:"btn btn-block droplink",name:"income-expenditure",onClick:function(){return n("income-expenditure")}},l.a.createElement("strong",null," "," "," ",l.a.createElement("i",{className:"fa fa-money"}," ")," Income & Expenditure"," ")),l.a.createElement("li",{className:"btn btn-block droplink",name:"employment-details",onClick:function(){return n("employment-details")}},l.a.createElement("strong",null," ",l.a.createElement("i",{className:"fa fa-amazon"}," ")," Employment Details"," ")),l.a.createElement("li",{className:"btn btn-block droplink",name:"advance",onClick:function(){return n("advance")}},l.a.createElement("strong",null," ",l.a.createElement("i",{className:"fa fa-credit-card"}," ")," Advance Amount"," ")),l.a.createElement("li",{className:"btn btn-block droplink",name:"banking-details",onClick:function(){return n("banking-details")}},l.a.createElement("strong",null," ",l.a.createElement("i",{className:"fa fa-building"}," ")," Banking Details"," ")),l.a.createElement("li",{className:"btn btn-block droplink",name:"admin",onClick:function(){return n("admin")}},l.a.createElement("strong",null," ",l.a.createElement("i",{className:"fa fa-dashboard"}," ")," Admin"," "))):null))),"applicant-details"===a?l.a.createElement(Za,null):"","employment-details"===a?l.a.createElement(cn,null):"","income-expenditure"===a?l.a.createElement(mn,null):"","credit-provider"===a?l.a.createElement(un,null):"","advance"===a?l.a.createElement(gn,null):"","banking-details"===a?l.a.createElement(_n,null):"","admin"===a?l.a.createElement(Cn,null):""))},Pn=a(709),Dn={chat_id:"",message_id:"",author:"",message:"",timestamp:"",attachments:""},In={chat_id:X,created_by:ne,messages:[],users:[]},Fn={chat_id:"",author:""},An={author:"",message:""};function Ln(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Rn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ln(a,!0).forEach((function(t){Object(ye.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ln(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Tn=Object(s.createContext)(),Un="";Un=document.URL.includes("localhost")||document.URL.includes("127.0.0.1")?"http://localhost:5000":"https://gentle-coast-76722.herokuapp.com/";var zn=function(e){var t=Object(s.useState)([]),a=Object(dt.a)(t,2),n=a[0],r=a[1],c=Object(s.useState)(Dn),o=Object(dt.a)(c,2),m=o[0],i=o[1],u=Object(s.useState)(An),f=Object(dt.a)(u,2),p=(f[0],f[1]),b=Object(s.useState)(aa),d=Object(dt.a)(b,2),g=d[0],E=d[1],v=Object(Pn.a)(Un,{transports:["websocket"]}),h=Object(dt.a)(v,1)[0],y=Object(s.useContext)(st).user_account_state.user_account.uid,_=function(){var e=Object(Z.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sa(t).then((function(e){e.status&&E(e.payload)})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(Z.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(t);case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){return h.connect(),function(){h.disconnect()}}),[]),Object(s.useEffect)((function(){return h.on("chat",(function(e){var t=Object(ze.a)(e);N(t).then((function(e){p({author:"",message:""}),E(aa),i(Rn({},m,{message:""}))}))})),h.on("typing",(function(e){var t=e.author;_(t).then((function(t){p({author:e.author,message:e.message})}))})),h.on("populate",(function(e){r(e)})),i(Rn({},m,{author:y})),function(){i(Rn({},m,{author:""}))}}),[]);return Object(s.useEffect)((function(){return h.emit("populate",function(){var e=Fn;return console.log("UID",y),e.author=y,e.chat_id=In.chat_id,e}()),function(){}}),[]),l.a.createElement(Tn.Provider,{value:{messages:n,message:m,setMessage:i,writer:g,typing:function(e){p(An);var t=m;t.author=y,h.emit("typing",t)},sendMessage:function(e){var t=m;t.author=y,t.chat_id=In.chat_id,h.emit("chat",t)},clearMessages:function(e){var t=In;h.emit("clear",t)}}},e.children)};function Mn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var Bn=function(e){var t,a=e.message,n=Object(s.useState)(aa),r=Object(dt.a)(n,2),c=r[0],o=r[1],m=function(){var e=Object(Z.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sa(t).then((function(e){e.status&&o(e.payload)})).catch((function(e){console.log(e)}));case 2:return e.abrupt("return",!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(Z.a)(H.a.mark((function e(t){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){var e=a.author;return m(e).then((function(e){})),function(){}}),[]),l.a.createElement("div",{className:"box-comments"},l.a.createElement("p",{className:"box-comment"},l.a.createElement("a",{href:"#"},l.a.createElement("small",{className:"text-muted pull-right",title:(t=a.timestamp,Date(1e3*parseInt(t)))}," ",l.a.createElement("i",{className:"fa fa-clock-o"}),"  "),c.names," "),a.message),a.attachments?l.a.createElement("div",{className:"attachment"},l.a.createElement("h4",null,"Attachments:"),l.a.createElement("p",{className:"filename"},a.attachments),l.a.createElement("div",{className:"pull-right"},l.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm btn-flat",onClick:function(e){return i(e)}},"Open"))):null)},Jn=function(){var e=Object(s.useContext)(Tn),t=e.messages,a=e.message,n=e.setMessage,r=e.writer,c=e.typing,o=e.sendMessage,m=e.clearMessages;return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-success"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("i",{className:"fa fa-comments-o"}),l.a.createElement("h3",{className:"box-title"},"Chat"),l.a.createElement("div",{className:"box-tools pull-right","data-toggle":"tooltip",title:"Status"},l.a.createElement("div",{className:"btn-group","data-toggle":"btn-toggle"},l.a.createElement("button",{type:"button",className:"btn btn-default btn-sm active"},l.a.createElement("i",{className:"fa fa-square text-green"})),l.a.createElement("button",{type:"button",className:"btn btn-default btn-sm",onClick:function(e){return m(e)}},l.a.createElement("i",{className:"fa fa-square text-red"}," "," "," "))))),l.a.createElement("div",{className:"box-body chat",id:"chat-box"},t.map((function(e){if(e.message_id)return l.a.createElement(Bn,{message:e,key:e.message_id})}))),l.a.createElement("div",{className:"box-footer"},l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{className:"form-control",placeholder:"Type message...",name:"message",value:a.message,onKeyPress:function(e){return c(e)},onChange:function(e){return n(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Mn(a,!0).forEach((function(t){Object(ye.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Mn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},a,Object(ye.a)({},e.target.name,e.target.value)))}}),l.a.createElement("div",{className:"input-group-btn"},l.a.createElement("button",{type:"button",className:"btn btn-success",onClick:function(e){return o(e)}},l.a.createElement("i",{className:"fa fa-plus"})," send")))),l.a.createElement("div",{className:"box-footer"},l.a.createElement("div",{className:"box-tools"},r.uid?l.a.createElement("a",{href:"#"},l.a.createElement("small",null,l.a.createElement("strong",null,l.a.createElement("em",null," ",r.names," - - is typing a message... ")))):null))))},Wn={uid:"",employee_code:"",lead_date:"",converted:!1,converted_by:"",convertion_date:"",loan_id:"",title:"",names:"",surname:"",id:"",dob:"",residential:"",city:"",country:"",province:"",postal_code:"",tel:"",cell:"",email:"",interests:"",notes:""},qn={title_error:"",names_error:"",surname_error:"",cell_error:"",email_error:"",id_error:"",dob_error:"",country_error:"",notes_error:""};function Vn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Yn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Vn(a,!0).forEach((function(t){Object(ye.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Vn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Kn=function(){var e=Object(Z.a)(H.a.mark((function e(t){var a,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={status:!0,payload:{},error:{}},r=t?n.leads_api_endpoint+"/converted":n.leads_api_endpoint+"/notconverted",e.next=4,Q.a.get(r).then((function(e){if(200===e.status)return e.data;throw new Error("there was an error fetching leads")})).then((function(e){a.status=!0,a.payload=Object(ze.a)(e),a.error={}})).catch((function(e){a.status=!1,a.payload=[],a.error=Yn({},e)}));case 4:return e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gn=function(){var e=Object(Z.a)(H.a.mark((function e(t,a){var r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={status:!0,payload:{},error:{}},e.next=3,Q.a.post(n.leads_api_endpoint+"/".concat(t),a).then((function(e){if(200===e.status)return e.data;throw new Error("there was an error fetching leads")})).then((function(e){r.status=!0,r.payload=Yn({},e),r.error={}})).catch((function(e){r.status=!1,r.payload={},r.error=Yn({},e)}));case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();function Hn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Zn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Hn(a,!0).forEach((function(t){Object(ye.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Hn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var $n=function(){var e=Object(s.useState)(Wn),t=Object(dt.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)(qn),c=Object(dt.a)(r,2),o=c[0],m=c[1],i=Object(s.useState)({message:"",message_type:"info"}),u=Object(dt.a)(i,2),f=u[0],p=u[1],b=Object(s.useContext)(st).user_account_state,d=function(){var e=Object(Z.a)(H.a.mark((function e(t){var n,r,c,s,l,i,u,f,p,b,d,g,E,v,h,y,_,N;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.target),n=!1,r=a.title,a.surname,c=a.names,s=a.id,l=a.dob,i=a.country,u=a.cell,f=a.email,p=a.notes,b=function(){return!!He.isEmpty(r)&&(m(Zn({},o,{title_error:"Please select title"})),!0)},d=function(){return!!He.isEmpty(a.surname)&&(m(Zn({},o,{surname_error:"Surname field cannot be empty"})),!0)},g=function(){return!!He.isEmpty(c)&&(m(Zn({},o,{names_error:"Names field cannot be empty"})),!0)},E=function(){return!1===He.isIDNumber(s)&&(m(Zn({},o,{id_error:"ID Number is invalid"})),!0)},v=function(){return!!He.isEmpty(l)&&(m(Zn({},o,{dob_error:" Date of birth field cannot be empty"})),!0)},h=function(){return!!He.isEmpty(i)&&(m(Zn({},o,{nationality_error:"country field cannot be empty"})),!0)},y=function(){return!1===He.isCell(u)&&(m(Zn({},o,{cell_error:"Cell field is invalid"})),!0)},_=function(){return!1===He.validateEmail(f)&&(m(Zn({},o,{email_error:"Email field is invalid"})),!0)},N=function(){return!!He.isEmpty(p)&&(m(Zn({},o,{notes_error:"Notes field cannot be empty"})),!0)},e.next=14,b();case 14:if(!e.sent){e.next=16;break}n=!0;case 16:return e.next=18,d();case 18:if(!e.sent){e.next=20;break}n=!0;case 20:return e.next=22,g();case 22:if(!e.sent){e.next=24;break}n=!0;case 24:return e.next=26,E();case 26:if(!e.sent){e.next=28;break}n=!0;case 28:return e.next=30,v();case 30:if(!e.sent){e.next=32;break}n=!0;case 32:return e.next=34,h();case 34:if(!e.sent){e.next=36;break}n=!0;case 36:return e.next=38,y();case 38:if(!e.sent){e.next=40;break}n=!0;case 40:return e.next=42,_();case 42:if(!e.sent){e.next=44;break}n=!0;case 44:return e.next=46,N();case 46:if(!e.sent){e.next=48;break}n=!0;case 48:return e.abrupt("return",n);case 49:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(Z.a)(H.a.mark((function e(t){var r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=b.user_account.uid,Gn(r,a).then((function(e){e.status?(n(a),p({message:"successfully updated leads data",message_type:"info"})):(n(Zn({},Wn,{uid:r})),p({message:e.error.message,message_type:"error"}))})).catch((function(e){p({message:e.message,message_type:"error"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){var e=b.user_account.uid;return n(Zn({},a,{uid:e})),function(){}}),[]),l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-camera"}," ")," Capture Lead"))),l.a.createElement("form",{className:"form-horizontal"},l.a.createElement("div",{className:"box box-footer"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("i",{className:"fa fa-user"}," ")," Client Details")),l.a.createElement("div",{className:"form-group"},l.a.createElement("select",{className:"form-control",name:"title",value:a.title,onChange:function(e){return n(Zn({},a,Object(ye.a)({},e.target.name,e.target.value)))}},l.a.createElement("option",{value:"mr"},"MR"),l.a.createElement("option",{value:"mrs"},"Mrs"),l.a.createElement("option",{value:"miss"},"Miss")),o.title_error?l.a.createElement(Et,{message:o.title_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"names",placeholder:"Names...",value:a.names,onChange:function(e){return n(Zn({},a,Object(ye.a)({},e.target.name,e.target.value)))}}),o.names_error?l.a.createElement(Et,{message:o.names_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"surname",placeholder:"Surname...",value:a.surname,onChange:function(e){return n(Zn({},a,Object(ye.a)({},e.target.name,e.target.value)))}}),o.surname_error?l.a.createElement(Et,{message:o.surname_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"id",placeholder:"ID / Passport Number",value:a.id,onChange:function(e){return n(Zn({},a,Object(ye.a)({},e.target.name,e.target.value)))}}),o.id_error?l.a.createElement(Et,{message:o.id_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"dob",placeholder:"Date of Birth...",value:a.dob,onChange:function(e){return n(Zn({},a,Object(ye.a)({},e.target.name,e.target.value)))}}),o.dob_error?l.a.createElement(Et,{message:o.dob_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",name:"country",placeholder:"country...",value:a.country,onChange:function(e){return n(Zn({},a,Object(ye.a)({},e.target.name,e.target.value)))}}),o.nationality_error?l.a.createElement(Et,{message:o.country_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"tel",className:"form-control",name:"cell",placeholder:"Cell",value:a.cell,onChange:function(e){return n(Zn({},a,Object(ye.a)({},e.target.name,e.target.value)))}}),o.cell_error?l.a.createElement(Et,{message:o.cell_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"email",className:"form-control",name:"email",placeholder:"Email",value:a.email,onChange:function(e){return n(Zn({},a,Object(ye.a)({},e.target.name,e.target.value)))}}),o.email_error?l.a.createElement(Et,{message:o.email_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("textarea",{className:"form-control",name:"notes",placeholder:"Notes",value:a.notes,onChange:function(e){return n(Zn({},a,Object(ye.a)({},e.target.name,e.target.value)))}}),o.notes_error?l.a.createElement(Et,{message:o.notes_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"button",className:"btn btn-success btn-lg",name:"save",onClick:function(e){d(e).then((function(t){if(t)throw new Error("there was an error processing form");g(e)})).catch((function(e){console.log(e),p({message:e.message,message_type:"error"})}))}},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-save"}," ")," Save")),l.a.createElement("button",{type:"button",className:"btn btn-warning btn-lg",name:"reset",onClick:function(){n(Wn),m(qn),p({message:"",message_type:"INFO"})}},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-eraser"}," ")," Reset"))),l.a.createElement("div",{className:"form-group"},f.message?l.a.createElement(Ct,{message:f.message,message_type:f.message_type}):"")))))};a(1139);function Qn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Xn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qn(a,!0).forEach((function(t){Object(ye.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qn(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var er=function(e){var t=e.lead,a=Object(s.useState)(t),n=Object(dt.a)(a,2),r=n[0],c=n[1],o=Object(s.useState)(qn),m=Object(dt.a)(o,2),i=m[0];m[1];return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("i",{className:"fa fa-cogs"}," ")," ","Manage Lead")),l.a.createElement("form",{className:"form-horizontal"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"label"},"Title"),l.a.createElement("select",{type:"text",className:"form-control",name:"title",value:r.title,onChange:function(e){return c(Xn({},r,Object(ye.a)({},e.target.name,e.target.value)))}},l.a.createElement("option",{value:"mr"},"MR"),l.a.createElement("option",{value:"mrs"},"Mrs"),l.a.createElement("option",{value:"miss"},"Miss")),i.title_error?l.a.createElement(Et,{message:i.title_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"label"},"Names"),l.a.createElement("input",{type:"text",className:"form-control",name:"names",value:r.names,onChange:function(e){return c(Xn({},r,Object(ye.a)({},e.target.name,e.target.value)))}}),i.names_error?l.a.createElement(Et,{message:i.names_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"label"},"Surname"),l.a.createElement("input",{type:"text",className:"form-control",name:"surname",value:r.surname,onChange:function(e){return c(Xn({},r,Object(ye.a)({},e.target.name,e.target.value)))}}),i.surname_error?l.a.createElement(Et,{message:i.surname_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"label"},"ID/Passport"),l.a.createElement("input",{type:"text",className:"form-control",name:"id",value:r.id,onChange:function(e){return c(Xn({},r,Object(ye.a)({},e.target.name,e.target.value)))}}),i.surname_error?l.a.createElement(Et,{message:i.surname_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"label"},"Date Of Birth"),l.a.createElement("input",{type:"text",className:"form-control",name:"dob",value:r.dob,onChange:function(e){return c(Xn({},r,Object(ye.a)({},e.target.name,e.target.value)))}}),i.dob_error?l.a.createElement(Et,{message:i.dob_error}):""),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"button",className:"btn btn-primary btn-lg",name:"convert"},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-user-astronaut"}," ")," ","Convert to Client"))))))},tr=function(){var e=Object(s.useState)([]),t=Object(dt.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)({message:"",message_type:"info"}),c=Object(dt.a)(r,2),o=(c[0],c[1],Object(s.useState)({})),m=Object(dt.a)(o,2),i=m[0],u=m[1],f=Object(s.useState)(Wn),p=Object(dt.a)(f,2),b=p[0],d=p[1],g=function(){var e=[];return a.forEach((function(t){e.push({names:l.a.createElement("span",{className:"lead-list",onClick:function(e){return n=t.loan_id,console.log("loan id",n),void d(a.find((function(e){return e.loan_id===n})));var n}}," ",t.names," "),surname:t.surname,cell:t.cell,email:t.email,id:t.id,notes:t.notes})})),{columns:[{label:"Names",field:"names",sort:"asc",width:150},{label:"Surname",field:"surname",sort:"asc",width:270},{label:"cell",field:"cell",sort:"asc",width:200},{label:"Email",field:"email",sort:"asc",width:100},{label:"ID",field:"id",sort:"asc",width:150},{label:"Notes",field:"notes",sort:"asc",width:150}],rows:e}};return Object(s.useEffect)((function(){return Kn(!1).then((function(e){e.status?n(e.payload):n([])})),function(){n([])}}),[]),Object(s.useEffect)((function(){var e=g();return u(e),function(){u({})}}),[a]),l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-search"}," ")," ","Lead Manager"))),b.loan_id?l.a.createElement(er,{lead:b}):l.a.createElement(pa,{data:i})))},ar=function(){var e=Object(s.useState)([]),t=Object(dt.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)({message:"",message_type:"info"}),c=Object(dt.a)(r,2);c[0],c[1];Object(s.useEffect)((function(){return Kn(!0).then((function(e){e.status?n(e.payload):n([])})).catch((function(e){n([])})),function(){return n([])}}),[]);var o=function(){var e=[];return a.forEach((function(t){e.push({names:t.names,surname:t.surname,cell:t.cell,id:t.id})})),{colums:[{label:"Names",field:"names",sort:"asc"},{label:"Surname",field:"surname",sort:"asc"},{label:"Cell",field:"cell",sort:"asc"},{label:"ID",field:"id",sort:"asc"}],rows:e}}();return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-search"}," ")," Converted Leads"))),o?l.a.createElement(fa.a,{striped:!0,bordered:!0,hover:!0,data:o}):""))},nr=function(){var e,t=Object(s.useState)("search-activate"),a=Object(dt.a)(t,2),n=a[0],r=a[1],c=Object(s.useState)({menu:!1}),o=Object(dt.a)(c,2),m=o[0],i=o[1],u=function e(){i({menu:!1}),document.removeEventListener("click",e)};return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-compass"}," ")," Leads")),l.a.createElement("div",{className:"box-tools"},l.a.createElement("div",{className:"dropdown"},l.a.createElement("button",{type:"button",className:"btn btn-box-tool dropdown",onClick:function(e){return function(e){e.preventDefault(),i({menu:!0}),document.addEventListener("click",u)}(e)}},l.a.createElement("i",{className:"fa fa-bars"}," ")," "),m.menu?l.a.createElement("ul",{className:"dropmenu"},l.a.createElement("li",{className:"btn btn-block droplink",name:"search-activate",onClick:function(e){return r("search-activate")}},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-search"}," ")," Leads")),l.a.createElement("li",{className:"btn btn-block droplink",name:"send-sms",onClick:function(e){return r("clients-capture")}},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-camera-retro"}," ")," Add Lead")),l.a.createElement("li",(e={className:"btn btn-block droplink",name:"search-activate"},Object(ye.a)(e,"name","converted-leads"),Object(ye.a)(e,"onClick",(function(e){return r("converted-leads")})),e),l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-users"}," ")," Converted"))):null))),"clients-capture"===n?l.a.createElement($n,null):"","search-activate"===n?l.a.createElement(tr,null):"","converted-leads"===n?l.a.createElement(ar,null):""))},rr=function(){var e=Object(s.useState)([]),t=Object(dt.a)(e,2),a=t[0],r=t[1],c=Object(s.useState)({message:"",message_type:"info"}),o=Object(dt.a)(c,2),m=(o[0],o[1]),i=Object(s.useState)([]),u=Object(dt.a)(i,2),f=u[0],p=u[1],b=function(){var e=Object(Z.a)(H.a.mark((function e(){var t,n,r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){var e=[];return a.forEach((function(t){console.dir("Prepared",t),e.push({loan_id:t.loan_id,id:t.id,surname:t.surname,names:t.names,allps:t.allps})})),e},e.next=3,t();case 3:return n=e.sent,n=Object(ze.a)(n),r={columns:[{label:"Loan ID",field:"loan_id",sort:"asc",width:150},{label:"ID Number",field:"id",sort:"asc",width:270},{label:"Surname",field:"surname",sort:"asc",width:200},{label:"Full Names",field:"names",sort:"asc",width:100},{label:"ALLPS",field:"allps",sort:"asc",width:150}],rows:n},e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){return b().then((function(e){console.log("Big Data",e),p(e)})),function(){p([])}}),[a]),Object(s.useEffect)((function(){return function(){var e=Object(Z.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.a.get(n.loans_api_endpoint).then((function(e){if(200===e.status)return e.data;throw new Error("there was an error fetching loans-please check your internet connection")})).then((function(e){var t=Ja(e);return r(t),m({message:"successfully loaded loans"}),!0})).catch((function(e){return m({message:"error : "+e.message,message_type:"error"}),!1}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()().then((function(e){console.log("Active loans fetched successfully")})),function(){}}),[]),l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("strong",null,l.a.createElement("i",{className:"fa fa-archive"}," ")," Active Loans"))),l.a.createElement("div",{className:"box box-footer"},f?l.a.createElement(fa.a,{striped:!0,bordered:!0,hover:!0,data:f}):"")),l.a.createElement("div",{className:"box-footer"}))},cr=a(712),or=function(e){var t=e.Component,a=Object(cr.a)(e,["Component"]),r=Object(s.useState)(!1),c=Object(dt.a)(r,2),o=c[0],m=c[1],i=Object(s.useContext)(st),u=(i.doLogin,i.user_account_state);return Object(s.useEffect)((function(){u.user_account.uid||(m(!0),console.log("REDIRECT SET"))}),[]),l.a.createElement(f.b,Object.assign({},a,{render:function(e){return o?l.a.createElement(f.a,{from:e.location,to:n.login_page}):l.a.createElement(t,e)}}))};function sr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function lr(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?sr(a,!0).forEach((function(t){Object(ye.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):sr(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var mr=function(){var e=Object(Z.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={status:!0,payload:{},error:{}},e.next=3,Q.a.get(n.api_admin_endpoint+"/".concat(t)).then((function(e){if(200===e.status)return e.data;throw new Error("there was an error fetching users")})).then((function(e){a.status=!0,a.payload=Object(ze.a)(e),a.error={}})).catch((function(e){a.error=lr({},e),a.status=!1,a.payload=[]}));case 3:return e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();a(1140);function ir(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ur(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ir(a,!0).forEach((function(t){Object(ye.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ir(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var fr=function(e){var t=e.manage_user,a=Object(s.useState)(aa),n=Object(dt.a)(a,2),r=n[0],c=n[1],o=Object(s.useState)(na),m=Object(dt.a)(o,2),i=m[0],u=m[1],f=Object(s.useState)({message:"",message_type:"info"}),p=Object(dt.a)(f,2),b=p[0],d=p[1],g=Object(s.useContext)(st).user_account_state,E=function(){var e=Object(Z.a)(H.a.mark((function e(t){var a,n,c,o;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,n=function(){return!!He.isEmpty(r.surname)&&(u(ur({},i,{surname_error:"surname field cannot be empty"})),!0)},c=function(){return!He.isCell(r.cell)&&(u(ur({},i,{cell_error:"cell number is invalid"})),!0)},o=function(){return!He.validateEmail(r.email)&&(u(ur({},i,{email_error:"email field is invalid"})),!0)},a=!!function(){return!!He.isEmpty(r.names)&&(u(ur({},i,{names_error:"names field cannot be empty"})),!0)}()||a,a=!!n()||a,a=!!c()||a,a=!!o()||a,e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(Z.a)(H.a.mark((function e(t){var a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.user_account.uid,a=JSON.stringify(r),e.next=4,oa(a).then((function(e){e.status?(c(e.payload),d({message:"successfully updated user",message_type:"info"})):d({message:e.error.message,message_type:"error"})})).catch((function(e){d({message:e.message,message_type:"error"})}));case 4:return e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){return c(t),function(){}}),[t]),l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},"Manage User")),l.a.createElement("form",{className:"form-horizontal"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Names"),l.a.createElement("input",{type:"text",className:"form-control",name:"names",value:r.names,onChange:function(e){return c(ur({},r,Object(ye.a)({},e.target.name,e.target.value)))}}),i.names_error?l.a.createElement(Et,{message:i.names_error}):null),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Surname"),l.a.createElement("input",{type:"text",className:"form-control",name:"surname",value:r.surname,onChange:function(e){return c(ur({},r,Object(ye.a)({},e.target.name,e.target.value)))}}),i.surname_error?l.a.createElement(Et,{message:i.surname_error}):null),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Cell"),l.a.createElement("input",{type:"tel",className:"form-control",name:"cell",value:r.cell,onChange:function(e){return c(ur({},r,Object(ye.a)({},e.target.name,e.target.value)))}}),i.cell_error?l.a.createElement(Et,{message:i.cell_error}):null),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Email"),l.a.createElement("input",{type:"email",className:"form-control",name:"email",value:r.email,onChange:function(e){return c(ur({},r,Object(ye.a)({},e.target.name,e.target.value)))}}),i.email_error?l.a.createElement(Et,{message:i.email_error}):null),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,"Is Admin"),l.a.createElement("select",{className:"form-control",name:"is_admin",value:r.is_admin,onChange:function(e){return c(ur({},r,Object(ye.a)({},e.target.name,e.target.value)))}},l.a.createElement("option",{value:!0},"Yes"),l.a.createElement("option",{value:!1},"No"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{type:"button",className:"btn btn-success",name:"save-user",onClick:function(e){return E(e).then((function(t){t?(console.log(t),d({message:"there was an error processing form",message_type:"error"})):v(e).then((function(e){console.log(e)}))}))}},l.a.createElement("strong",null," ",l.a.createElement("i",{className:"fa fa-save"}," ")," ","Update User"))),l.a.createElement("div",{className:"form-group"},b.message?l.a.createElement(Ct,{message:b.message,message_type:b.message_type}):""))))},pr=function(){var e=Object(s.useState)([]),t=Object(dt.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)({}),c=Object(dt.a)(r,2),o=c[0],m=c[1],i=Object(s.useState)(aa),u=Object(dt.a)(i,2),f=u[0],p=u[1],b=Object(s.useState)({message:"",message_type:"info"}),d=Object(dt.a)(b,2),g=(d[0],d[1]),E=Object(s.useContext)(st).user_account_state,v=function(){var e=[];return a.forEach((function(t){e.push({names:l.a.createElement("span",{className:"admin-list",onClick:function(e){return n=t.uid,console.log("Manage this User",n),void p(a.find((function(e){return e.uid===n})));var n}}," ",t.names," "),surname:t.surname,cell:t.cell,email:t.email,is_admin:t.is_admin?"Yes":"No"})})),{columns:[{label:"Names",field:"names",sort:"asc",width:150},{label:"Surname",field:"surname",sort:"asc",width:270},{label:"cell",field:"cell",sort:"asc",width:200},{label:"Email",field:"email",sort:"asc",width:100},{label:"is Admin",field:"is_admin",sort:"asc",width:150}],rows:e}};return Object(s.useEffect)((function(){var e=E.user_account.uid;return mr(e).then((function(e){e.status?n(e.payload):g({message:e.error.message,message_type:"error"})})),function(){n([])}}),[]),Object(s.useEffect)((function(){return m(v()),function(){m({})}}),[a]),l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box box-title"},l.a.createElement("i",{className:"fa fa-dashboard"}," ")," Users")),f.uid?l.a.createElement(fr,{manage_user:f}):l.a.createElement(pa,{data:o})))},br=function(){var e=Object(s.useState)("users"),t=Object(dt.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)({menu:!1}),c=Object(dt.a)(r,2),o=c[0],m=c[1],i=function e(){m({menu:!1}),document.removeEventListener("click",e)};return l.a.createElement(s.Fragment,null,l.a.createElement("div",{className:"box box-body"},l.a.createElement("div",{className:"box box-header"},l.a.createElement("h3",{className:"box-title"},l.a.createElement("i",{className:"fa fa-cogs"}," "),"Admin"),l.a.createElement("div",{className:"box-tools"},l.a.createElement("div",{className:"dropdown"},l.a.createElement("button",{type:"button",className:"btn btn-box-tool dropdown",onClick:function(e){return function(e){e.preventDefault(),m({menu:!0}),document.addEventListener("click",i)}(e)}},l.a.createElement("i",{className:"fa fa-bars"}," ")," "),o.menu?l.a.createElement("ul",{className:"dropmenu"},l.a.createElement("li",{className:"btn btn-block droplink",name:"users",onClick:function(){return n("users")}},l.a.createElement("i",{className:"fa fa-users"}," "),"Users"),l.a.createElement("li",{className:"btn btn-block droplink",name:"chat",onClick:function(){return n("chat")}},l.a.createElement("i",{className:"fa fa-comment"}," "),"Chat")):null))),"users"===a?l.a.createElement(pr,null):""))};a(1141),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(lt,null,l.a.createElement((function(){return l.a.createElement(lt,null,l.a.createElement(Wt,null,l.a.createElement(zn,null,l.a.createElement(Da,null,l.a.createElement(s.Fragment,null,l.a.createElement(u.a,null,l.a.createElement(ft,null),l.a.createElement(Ut,null),l.a.createElement("div",{className:"content-wrapper"},l.a.createElement("section",{className:"content-header"},l.a.createElement("section",{className:"content"},l.a.createElement(f.d,null,l.a.createElement(f.b,{exact:!0,path:n.home_page,component:pt}),l.a.createElement(f.b,{exact:!0,path:n.about_page,component:bt}),l.a.createElement(f.b,{exact:!0,path:n.contact_page,component:jt}),l.a.createElement(f.b,{path:n.login_page,component:Pt}),l.a.createElement(or,{path:n.logout_page,component:Dt}),l.a.createElement(f.b,{path:n.signup_page,component:Tt}),l.a.createElement(f.b,{path:n.forget_password_page,component:Mt}),l.a.createElement(f.b,{path:n.blog_page,component:Vt}),l.a.createElement(or,{path:n.dashboard_page,component:Bt}),l.a.createElement(or,{path:n.loans_page,component:Sn}),l.a.createElement(or,{path:n.active_loans_page,component:rr}),l.a.createElement(or,{path:n.chat_page,component:Jn}),l.a.createElement(or,{path:n.leads_page,component:nr}),l.a.createElement(or,{exact:!0,path:n.account_page,component:Oa}),l.a.createElement(or,{exact:!0,path:n.admin_page,component:br}))))),l.a.createElement(zt,null)))))))}),null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},713:function(e,t,a){e.exports=a(1142)},982:function(e,t,a){},983:function(e,t,a){},984:function(e,t,a){}},[[713,1,2]]]);
//# sourceMappingURL=main.5f47c1fd.chunk.js.map